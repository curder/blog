import{_ as l,M as o,p as i,q as p,a1 as d,R as a,t as e,N as t}from"./framework-64ffeeb4.js";const r="/blog/assets/diskimage-utility-be8af433.jpg",c="/blog/assets/diskimage-new-bf679d46.png",u="/blog/assets/diskimage-details-7aa4685a.png",k={},b={href:"https://www.macx.cn/thread-2093355-1-1.html",target:"_blank",rel:"noopener noreferrer"},v={href:"http://man.linuxde.net/dd",target:"_blank",rel:"noopener noreferrer"};function m(h,s){const n=o("ExternalLinkIcon");return i(),p("div",null,[s[2]||(s[2]=d(`<h1 id="mac-osx系统下快速创建大文件" tabindex="-1"><a class="header-anchor" href="#mac-osx系统下快速创建大文件" aria-hidden="true">#</a> Mac OSX系统下快速创建大文件</h1><p>常常有这样的开发场景，比如在测试上传功能的时候需要一个比较大的文件，如果在MacOSX系统中创建大容量空白文件非常简单，第一种就是使用终端命令行，第二种是使用磁盘工具应用。</p><h2 id="使用终端命令行创建大容量文件" tabindex="-1"><a class="header-anchor" href="#使用终端命令行创建大容量文件" aria-hidden="true">#</a> 使用终端命令行创建大容量文件</h2><h3 id="使用mkfile命令" tabindex="-1"><a class="header-anchor" href="#使用mkfile命令" aria-hidden="true">#</a> 使用mkfile命令</h3><p>快速生成大容量空白文件最简单的命令就是<code>mkfile</code>，无论是大文件还是小文件，<code>mkfile</code>都支持。</p><p><code>mkfile</code>命令的格式如下</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mkfile <span class="token punctuation">[</span>-nv<span class="token punctuation">]</span> size<span class="token punctuation">[</span>b<span class="token operator">|</span>k<span class="token operator">|</span>m<span class="token operator">|</span>g<span class="token punctuation">]</span> filename <span class="token punctuation">..</span>.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果想在桌面上创建文件名为<code>big_file.data</code>的<strong>1GB</strong>容量文件时，只需使用下面的命令</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mkfile <span class="token parameter variable">-n</span> 1g ~/Desktop/big_file.data
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="使用dd命令" tabindex="-1"><a class="header-anchor" href="#使用dd命令" aria-hidden="true">#</a> 使用dd命令</h3><p>由于<code>mkfile</code>只支持Mac OSX系统，如果想要在其他平台上创建大容量空白文件，<code>dd</code>命令可能更合适一些，<code>dd</code>命令支持所有的<code>unix</code>系统。</p><p>使用<code>dd</code>命令，需要定义文件名、区块尺寸和区块大小</p><h4 id="参数" tabindex="-1"><a class="header-anchor" href="#参数" aria-hidden="true">#</a> 参数</h4><div class="language-ini line-numbers-mode" data-ext="ini"><pre class="language-ini"><code><span class="token key attr-name">bs</span> <span class="token punctuation">=</span> <span class="token value attr-value">&lt;字节数&gt;：将ibs（输入）与欧巴桑（输出）设成指定的字节数；</span>
<span class="token key attr-name">cbs</span> <span class="token punctuation">=</span> <span class="token value attr-value">&lt;字节数&gt;：转换时，每次只转换指定的字节数；</span>
<span class="token key attr-name">conv</span> <span class="token punctuation">=</span> <span class="token value attr-value">&lt;关键字&gt;：指定文件转换的方式；</span>
<span class="token key attr-name">count</span> <span class="token punctuation">=</span> <span class="token value attr-value">&lt;区块数&gt;：仅读取指定的区块数；</span>
<span class="token key attr-name">ibs</span> <span class="token punctuation">=</span> <span class="token value attr-value">&lt;字节数&gt;：每次读取的字节数；</span>
<span class="token key attr-name">obs</span> <span class="token punctuation">=</span> <span class="token value attr-value">&lt;字节数&gt;：每次输出的字节数；</span>
<span class="token key attr-name">of</span> <span class="token punctuation">=</span> <span class="token value attr-value">&lt;文件&gt;：输出到文件；</span>
<span class="token key attr-name">seek</span> <span class="token punctuation">=</span> <span class="token value attr-value">&lt;区块数&gt;：一开始输出时，跳过指定的区块数；</span>
<span class="token key attr-name">skip</span> <span class="token punctuation">=</span> <span class="token value attr-value">&lt;区块数&gt;：一开始读取时，跳过指定的区块数；</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="示例" tabindex="-1"><a class="header-anchor" href="#示例" aria-hidden="true">#</a> 示例</h4><ul><li>创建一个1M大小的文件</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>/dev/zero <span class="token assign-left variable">of</span><span class="token operator">=</span>file.txt <span class="token assign-left variable">bs</span><span class="token operator">=</span><span class="token number">1024</span> <span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>创建一个100M大小的文件</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>/dev/zero <span class="token assign-left variable">of</span><span class="token operator">=</span>file.txt <span class="token assign-left variable">bs</span><span class="token operator">=</span><span class="token number">1024</span> <span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">seek</span><span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token number">1024</span> * <span class="token number">100</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>创建一个1G大小的文件</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>/dev/zero <span class="token assign-left variable">of</span><span class="token operator">=</span>file.txt <span class="token assign-left variable">bs</span><span class="token operator">=</span><span class="token number">1024</span> <span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">seek</span><span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token number">1024</span> * <span class="token number">1024</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>其中参数解释：</p><ul><li><code>/dev/zero</code> 是一个字符设备，会不断返回0值字节（\\0）。</li><li><code>if</code> 代表输入文件。如果不指定if，默认就会从stdin中读取输入。</li><li><code>of</code> 代表输出文件。如果不指定of，默认就会将stdout作为默认输出。</li><li><code>bs</code> 代表字节为单位的块大小。</li><li><code>count</code> 代表被复制的块数。</li></ul><table><thead><tr><th>单元大小</th><th>代码</th></tr></thead><tbody><tr><td>字节（1B）</td><td>c</td></tr><tr><td>字节（2B）</td><td>w</td></tr><tr><td>块（512B）</td><td>b</td></tr><tr><td>千字节（1024B）</td><td>k</td></tr><tr><td>兆字节（1024KB）</td><td>M</td></tr><tr><td>吉字节（1024MB）</td><td>G</td></tr></tbody></table><h3 id="使用磁盘工具穿件大容量空白文件" tabindex="-1"><a class="header-anchor" href="#使用磁盘工具穿件大容量空白文件" aria-hidden="true">#</a> 使用磁盘工具穿件大容量空白文件</h3><ol start="0"><li><p>点击<code>Dock</code>中的<code>Launchpad</code>。搜索并点击打开磁盘工具</p><p><img src="`+r+'" alt=""></p></li><li><p>点击左上角的“文件”下拉菜单，选择新建，然后选择“空白磁盘映像”。</p><p><img src="'+c+'" alt=""></p></li></ol><blockquote><p>或者在磁盘工具面板按快捷键<code>command + N</code>，新建&quot;空白磁盘映像&quot;</p></blockquote><ol start="2"><li>选中好要保存的文件名和文件路径，然后在“大小”下拉菜单中选择自己需要的尺寸，最后点击创建即可。 <img src="'+u+'" alt=""></li></ol><h2 id="参考地址" tabindex="-1"><a class="header-anchor" href="#参考地址" aria-hidden="true">#</a> 参考地址</h2>',29)),a("ul",null,[a("li",null,[a("p",null,[a("a",b,[s[0]||(s[0]=e("小技巧：通过终端或者磁盘工具创建大容量空白文件",-1)),t(n)])])]),a("li",null,[a("p",null,[a("a",v,[s[1]||(s[1]=e("dd命令",-1)),t(n)])])])])])}const g=l(k,[["render",m],["__file","fast-creation-of-large-files-under-mac-osx.html.vue"]]);export{g as default};
