import{_ as r,M as o,p as i,q as d,R as n,t as s,N as t,a1 as l}from"./framework-64ffeeb4.js";const p="/blog/assets/blog.dev-98f66b4b.jpg",u="/blog/assets/test-blog.dev-5d726e40.jpg",b={},v={href:"https://laravel.com/docs/5.5/valet",title:"Laravel Valet",target:"_blank",rel:"noopener noreferrer"},m={href:"https://caddyserver.com/",target:"_blank",rel:"noopener noreferrer"},g={href:"https://en.wikipedia.org/wiki/Dnsmasq",target:"_blank",rel:"noopener noreferrer"},c={href:"https://ngrok.com/",target:"_blank",rel:"noopener noreferrer"},k={href:"https://laravel.com/",target:"_blank",rel:"noopener noreferrer"},h={href:"https://lumen.laravel.com/",target:"_blank",rel:"noopener noreferrer"},f={href:"https://roots.io/bedrock/",target:"_blank",rel:"noopener noreferrer"},x={href:"https://cakephp.org/",target:"_blank",rel:"noopener noreferrer"},y={href:"http://www.concrete5.org/",target:"_blank",rel:"noopener noreferrer"},w={href:"https://contao.org/en/",target:"_blank",rel:"noopener noreferrer"},q={href:"https://craftcms.com/",target:"_blank",rel:"noopener noreferrer"},V={href:"https://www.drupal.org/",target:"_blank",rel:"noopener noreferrer"},L={href:"http://jigsaw.tighten.co/",target:"_blank",rel:"noopener noreferrer"},C={href:"https://www.joomla.org/",target:"_blank",rel:"noopener noreferrer"},S={href:"https://github.com/themsaid/katana",target:"_blank",rel:"noopener noreferrer"},M={href:"https://getkirby.com/",target:"_blank",rel:"noopener noreferrer"},D={href:"https://magento.com/",target:"_blank",rel:"noopener noreferrer"},N={href:"https://octobercms.com/",target:"_blank",rel:"noopener noreferrer"},W={href:"https://sculpin.io/",target:"_blank",rel:"noopener noreferrer"},I={href:"https://www.slimframework.com/",target:"_blank",rel:"noopener noreferrer"},j={href:"https://statamic.com/",target:"_blank",rel:"noopener noreferrer"},B={href:"https://symfony.com/",target:"_blank",rel:"noopener noreferrer"},P={href:"https://wordpress.org/",target:"_blank",rel:"noopener noreferrer"},T={href:"https://framework.zend.com/",target:"_blank",rel:"noopener noreferrer"},U={href:"https://laravel.com/docs/5.4/valet#custom-valet-drivers",title:"Custom Valet Drivers",target:"_blank",rel:"noopener noreferrer"},E={href:"http://test-blog.dev/",target:"_blank",rel:"noopener noreferrer"};function R(F,e){const a=o("ExternalLinkIcon");return i(),d("div",null,[e[48]||(e[48]=n("h1",{id:"mac开发环境laravel-valet实践",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#mac开发环境laravel-valet实践","aria-hidden":"true"},"#"),s(" Mac开发环境Laravel Valet实践")],-1)),n("p",null,[n("a",v,[e[0]||(e[0]=s("Laravel Valet",-1)),t(a)]),e[1]||(e[1]=s("是一个",-1)),e[2]||(e[2]=n("strong",null,"Mac",-1)),e[3]||(e[3]=s("下面的常见框架的极简开发环境，不但可以本地开发，还可以分享到公网访问。",-1))]),n("p",null,[e[7]||(e[7]=s("当Mac电脑开机后会在后台一直启动 ",-1)),n("a",m,[e[4]||(e[4]=s("Caddy",-1)),t(a)]),e[8]||(e[8]=s(",",-1)),e[9]||(e[9]=n("code",null,"Valet",-1)),e[10]||(e[10]=s("通过 ",-1)),n("a",g,[e[5]||(e[5]=s("DnsMasq",-1)),t(a)]),e[11]||(e[11]=s(" 把所有的",-1)),e[12]||(e[12]=n("code",null,".dev",-1)),e[13]||(e[13]=s("为后缀的域名指向本地安装的站点。比如站点所在目录",-1)),e[14]||(e[14]=n("code",null,"blog",-1)),e[15]||(e[15]=s(", 通过浏览器访问",-1)),e[16]||(e[16]=n("code",null,"blog.dev",-1)),e[17]||(e[17]=s("就会自动访问到",-1)),e[18]||(e[18]=n("code",null,"blog/public",-1)),e[19]||(e[19]=s(" 目录了。分享到公网其实主要依靠",-1)),n("a",c,[e[6]||(e[6]=s("ngrok",-1)),t(a)]),e[20]||(e[20]=s("来实现的。",-1))]),e[49]||(e[49]=n("p",null,"目前能直接支持如下项目：",-1)),n("ul",null,[n("li",null,[n("a",k,[e[21]||(e[21]=s("Laravel",-1)),t(a)])]),n("li",null,[n("a",h,[e[22]||(e[22]=s("Lumen",-1)),t(a)])]),n("li",null,[n("a",f,[e[23]||(e[23]=s("Bedrock",-1)),t(a)])]),n("li",null,[n("a",x,[e[24]||(e[24]=s("CakePHP 3",-1)),t(a)])]),n("li",null,[n("a",y,[e[25]||(e[25]=s("Concrete5",-1)),t(a)])]),n("li",null,[n("a",w,[e[26]||(e[26]=s("Contao",-1)),t(a)])]),n("li",null,[n("a",q,[e[27]||(e[27]=s("Craft",-1)),t(a)])]),n("li",null,[n("a",V,[e[28]||(e[28]=s("Drupal",-1)),t(a)])]),n("li",null,[n("a",L,[e[29]||(e[29]=s("Jigsaw",-1)),t(a)])]),n("li",null,[n("a",C,[e[30]||(e[30]=s("Joomla",-1)),t(a)])]),n("li",null,[n("a",S,[e[31]||(e[31]=s("Katana",-1)),t(a)])]),n("li",null,[n("a",M,[e[32]||(e[32]=s("Kirby",-1)),t(a)])]),n("li",null,[n("a",D,[e[33]||(e[33]=s("Magento",-1)),t(a)])]),n("li",null,[n("a",N,[e[34]||(e[34]=s("OctoberCMS",-1)),t(a)])]),n("li",null,[n("a",W,[e[35]||(e[35]=s("Sculpin",-1)),t(a)])]),n("li",null,[n("a",I,[e[36]||(e[36]=s("Slim",-1)),t(a)])]),n("li",null,[n("a",j,[e[37]||(e[37]=s("Statamic",-1)),t(a)])]),e[41]||(e[41]=n("li",null,"Static HTML",-1)),n("li",null,[n("a",B,[e[38]||(e[38]=s("Symfony",-1)),t(a)])]),n("li",null,[n("a",P,[e[39]||(e[39]=s("WordPress",-1)),t(a)])]),n("li",null,[n("a",T,[e[40]||(e[40]=s("Zend",-1)),t(a)])])]),n("p",null,[e[43]||(e[43]=n("strong",null,"当然，我们也是可以自己驱动，",-1)),n("a",U,[e[42]||(e[42]=n("strong",null,"Custom Valet Drivers",-1)),t(a)]),e[44]||(e[44]=s("。",-1))]),e[50]||(e[50]=l(`<h2 id="安装前的准备" tabindex="-1"><a class="header-anchor" href="#安装前的准备" aria-hidden="true">#</a> 安装前的准备</h2><ul><li><p>homebrew</p></li><li><p>php70</p></li><li><p>composer</p></li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>brew update
brew services list
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>如果没有安装 composer，可以使用命令<code>brew install composer</code>进行安装</li></ul><h3 id="安装" tabindex="-1"><a class="header-anchor" href="#安装" aria-hidden="true">#</a> 安装</h3><h4 id="安装valet" tabindex="-1"><a class="header-anchor" href="#安装valet" aria-hidden="true">#</a> 安装Valet</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">composer</span> global require laravel/valet
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="安装valet和dnsmasq" tabindex="-1"><a class="header-anchor" href="#安装valet和dnsmasq" aria-hidden="true">#</a> 安装Valet和DnsMasq</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>valet <span class="token function">install</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果<strong>DnsMasq安装失败可以使用命令手动安装</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>brew <span class="token function">install</span> dnsmasq
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>执行完成后，使用ping命令试试效果</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">ping</span> <span class="token string">&quot;*.dev&quot;</span>
PING *.dev <span class="token punctuation">(</span><span class="token number">127.0</span>.0.1<span class="token punctuation">)</span>: <span class="token number">56</span> data bytes
<span class="token number">64</span> bytes from <span class="token number">127.0</span>.0.1: <span class="token assign-left variable">icmp_seq</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">64</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">0.027</span> ms
<span class="token number">64</span> bytes from <span class="token number">127.0</span>.0.1: <span class="token assign-left variable">icmp_seq</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">64</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">0.036</span> ms
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>如果能ping通，则表示配置成功。此时我们可以拿一个项目来测试一下</p></blockquote><h2 id="测试valet运行laravel" tabindex="-1"><a class="header-anchor" href="#测试valet运行laravel" aria-hidden="true">#</a> 测试Valet运行Laravel</h2><ul><li>创建文件夹并进入</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">mkdir</span> ~/Website <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> ~/Website
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>运行<code>valet park</code></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>valet park
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>这条命令是将上面的目录，也就是<code>~/Website</code>目录作为寻找站点的路径。</p></blockquote><ul><li>创建Laravel项目</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>laravel new blog
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果不存在 laravel 命令，则运行 <code>composer global require &quot;laravel/installer&quot;</code>拿到laravel命令。</p><ul><li>访问<code>blog.dev</code>项目</li></ul><p><img src="`+p+`" alt=""></p><h3 id="项目别名" tabindex="-1"><a class="header-anchor" href="#项目别名" aria-hidden="true">#</a> 项目别名</h3><p><code>park</code>命令会把这个目录下所有文件夹都当做独立的不同站点，而当你只需要启动一个站点的时候，可以使用 <code>link</code>命令。</p><p><code>link</code>命令也可以用来启动 Laravel 站点。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ~/Website/blog
valet <span class="token function">link</span> test-blog
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,29)),n("p",null,[e[46]||(e[46]=s("执行上面命令就可以在本地浏览器通过 ",-1)),n("a",E,[e[45]||(e[45]=s("http://test-blog.dev",-1)),t(a)]),e[47]||(e[47]=s(" 访问blog项目的站点了。",-1))]),e[51]||(e[51]=l('<p><img src="'+u+`" alt=""></p><p>另外还有了两个比较有用的命令如：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>valet links
valet unlink
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>其中 <code>links</code> 是查看当前所有的项目别名，<code>unlink</code> 则是将已有的别名移除。</p><h3 id="站点支持tls" tabindex="-1"><a class="header-anchor" href="#站点支持tls" aria-hidden="true">#</a> 站点支持TLS</h3><p>让站点支持TLS也很简单，只需要执行：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>valet secure blog
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这样就可以用 <code>https://blog.dev</code> 进行访问了，如果想取消的话可以使用下面的命令：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>valet unsecure blog
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="分享站点" tabindex="-1"><a class="header-anchor" href="#分享站点" aria-hidden="true">#</a> 分享站点</h3><p>这个功能是让本地开发的项目通过分享给互联网上其他用户进行访问呢，只需要在项目根目录下执行一个命令就可以</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>valet share
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这样就会通过<code>ngrok</code>生成一个外网URL，要停止分享，可以按 <code>control + c</code>来取消进程。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>ngrok by @inconshreveable                                                                        <span class="token punctuation">(</span>Ctrl+C to quit<span class="token punctuation">)</span>

Session Status                online
Update                        update available <span class="token punctuation">(</span>version <span class="token number">2.2</span>.8, Ctrl-U to update<span class="token punctuation">)</span>
Version                       <span class="token number">2.1</span>.18
Region                        United States <span class="token punctuation">(</span>us<span class="token punctuation">)</span>
Web Interface                 http://127.0.0.1:4040
Forwarding                    http://3c378de6.ngrok.io -<span class="token operator">&gt;</span> test-blog.dev:80
Forwarding                    https://3c378de6.ngrok.io -<span class="token operator">&gt;</span> test-blog.dev:80

Connections                   ttl     opn     rt1     rt5     p50     p90
                              <span class="token number">0</span>       <span class="token number">0</span>       <span class="token number">0.00</span>    <span class="token number">0.00</span>    <span class="token number">0.00</span>    <span class="token number">0.00</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="valet其他命令-valet" tabindex="-1"><a class="header-anchor" href="#valet其他命令-valet" aria-hidden="true">#</a> <code>Valet</code>其他命令 {#valet}</h4><table><thead><tr><th style="text-align:left;">命令</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;"><code>valet forget</code></td><td style="text-align:left;">在 “对应” 的目录中执行该命令来把其从“对应” 目录列表中删除</td></tr><tr><td style="text-align:left;"><code>valet paths</code></td><td style="text-align:left;">查看所有paths路径</td></tr><tr><td style="text-align:left;"><code>valet restart</code></td><td style="text-align:left;">重启 Valet 程序</td></tr><tr><td style="text-align:left;"><code>valet start</code></td><td style="text-align:left;">启动 Valet 程序</td></tr><tr><td style="text-align:left;"><code>valet stop</code></td><td style="text-align:left;">停止 Valet 程序</td></tr><tr><td style="text-align:left;"><code>valet uninstall</code></td><td style="text-align:left;">卸载 Valet 程序</td></tr></tbody></table>`,16))])}const J=r(b,[["render",R],["__file","valet-install.html.vue"]]);export{J as default};
