import{_ as l,r as c,o as t,c as p,b as n,a,F as d,e as i,d as s}from"./app.c1a92924.js";const o={},r=i('<h1 id="ubuntu\u4E0B\u5FEB\u901F\u642D\u5EFAlnmp\u73AF\u5883" tabindex="-1"><a class="header-anchor" href="#ubuntu\u4E0B\u5FEB\u901F\u642D\u5EFAlnmp\u73AF\u5883" aria-hidden="true">#</a> Ubuntu\u4E0B\u5FEB\u901F\u642D\u5EFALNMP\u73AF\u5883</h1><p>\u5728Ubuntu\u7CFB\u7EDF\u4E2D\uFF0C\u53EF\u4EE5\u4F7F\u7528 <code>apt-get</code> \u547D\u4EE4\u6765\u642D\u5EFALNMP\u73AF\u5883\u3002\u8FD9\u79CD\u65B9\u5F0F\u8F83\u7F16\u8BD1\u65B9\u5F0F\u5B89\u88C5\u66F4\u52A0\u7B80\u4FBF\uFF0C\u56E0\u6B64\u9009\u62E9\u8BE5\u65B9\u5F0F\u6765\u642D\u5EFA\u73AF\u5883\u4EE5\u4F9B\u5B66\u4E60\u3002</p><ul><li>Ubuntu Ubuntu 20.04.3 LTS</li><li>Nginx 1.18.0</li><li>PHP 8.1.0 <ul><li>Composer 2.1.14</li></ul></li><li>MySQL 8.0.27</li></ul>',3),u=s("\u5B89\u88C5\u524D\u8BF7\u786E\u4FDD\u5BF9\u670D\u52A1\u5668\u8FDB\u884C\u4E86\u521D\u59CB\u5316\uFF0C\u53EF\u4EE5"),h={href:"https://curder.github.io/blog/os/ubuntu/ubuntu-server-initialization.html",target:"_blank",rel:"noopener noreferrer"},v=s("\u53C2\u8003\u8FD9\u91CC"),m=s("\u3002"),b=i(`<h2 id="nginx" tabindex="-1"><a class="header-anchor" href="#nginx" aria-hidden="true">#</a> Nginx</h2><h3 id="\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5" aria-hidden="true">#</a> \u5B89\u88C5</h3><blockquote><p>\u5B89\u88C5\u4E4B\u524D\u4F7F\u7528 <code>sudo su -</code> \u547D\u4EE4\u5C06\u5F53\u524D\u7528\u6237\u5207\u6362\u5230 <strong>root</strong> \u7528\u6237\u3002</p></blockquote><p>nginx \u7684\u5B89\u88C5\u975E\u5E38\u7B80\u5355\uFF0C\u4F7F\u7528\u4E0B\u9762\u7684\u547D\u4EE4\u5373\u53EF\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> -y nginx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u68C0\u67E5" tabindex="-1"><a class="header-anchor" href="#\u68C0\u67E5" aria-hidden="true">#</a> \u68C0\u67E5</h3><p>\u67E5\u770B Nginx \u5B89\u88C5\u7684\u7248\u672C</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>nginx -v
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u914D\u7F6E\u548C\u76EE\u5F55" tabindex="-1"><a class="header-anchor" href="#\u914D\u7F6E\u548C\u76EE\u5F55" aria-hidden="true">#</a> \u914D\u7F6E\u548C\u76EE\u5F55</h3><ul><li>\u4E3B\u914D\u7F6E\u76EE\u5F55</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>/etc/nginx/nginx.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>\u7F51\u7AD9\u914D\u7F6E\u76EE\u5F55</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>/etc/nginx/sites-available
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>\u9ED8\u8BA4\u7684\u4E3B\u914D\u7F6E\u76EE\u5F55\u4EC5\u4EC5\u5305\u542B<code>/etc/nginx/sites-enabled</code>\u76EE\u5F55\u4E0B\u7684\u6587\u4EF6\uFF0C\u5B9E\u9645\u64CD\u4F5C\u4E2D\u6DFB\u52A0\u7F51\u7AD9\u914D\u7F6E\u9996\u5148\u6DFB\u52A0\u5230<code>/etc/nginx/sites-available/another-website.conf</code>\u3002</p><p>\u7136\u540E\u901A\u8FC7<code>ln -s /etc/nginx/sites-available/another-website.conf /etc/nginx/sites-enabled/another-website.conf</code>\u5C06\u914D\u7F6E\u6587\u4EF6\u653E\u7F6E\u5230<code>/etc/nginx/sites-enabled</code>\u76EE\u5F55\u4E0B\u3002</p></blockquote><ul><li>\u9ED8\u8BA4\u7F51\u7AD9\u76EE\u5F55</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>/var/www/html
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u542F\u52A8nginx\u670D\u52A1\u548C\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#\u542F\u52A8nginx\u670D\u52A1\u548C\u6D4B\u8BD5" aria-hidden="true">#</a> \u542F\u52A8Nginx\u670D\u52A1\u548C\u6D4B\u8BD5</h3><p>\u4F7F\u7528\u4E0B\u9762\u4E24\u79CD\u65B9\u5F0F\u90FD\u53EF\u4EE5\u542F\u52A8nginx</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> /etc/init.d/nginx start
<span class="token function">sudo</span> systemctl start nginx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5206\u522B\u53EF\u4EE5\u901A\u8FC7\u4E0B\u9762\u7684\u4E09\u79CD\u65B9\u5F0F\u6D4B\u8BD5\u8FDB\u7A0B\u548C\u7AEF\u53E3\u662F\u5426\u6B63\u5E38\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">netstat</span> -tunpl<span class="token operator">|</span><span class="token function">grep</span> nginx
<span class="token function">sudo</span> <span class="token function">lsof</span> -i :80
<span class="token function">ps</span> aux <span class="token operator">|</span><span class="token function">grep</span> nginx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="php" tabindex="-1"><a class="header-anchor" href="#php" aria-hidden="true">#</a> PHP</h2><h3 id="\u5B89\u88C5\u524D\u7684\u51C6\u5907" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5\u524D\u7684\u51C6\u5907" aria-hidden="true">#</a> \u5B89\u88C5\u524D\u7684\u51C6\u5907</h3><p>\u6267\u884C\u4E0B\u9762\u7684\u547D\u4EE4\u6DFB\u52A0\u5177\u6709 PHP 8.1 \u8F6F\u4EF6\u5305\u548C\u5176\u4ED6\u5FC5\u9700\u7684 PHP \u6269\u5C55\u7684 <code>ondrej/php</code>\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> software-properties-common
<span class="token function">sudo</span> add-apt-repository ppa:ondrej/php
<span class="token function">sudo</span> <span class="token function">apt-get</span> update
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E00\u65E6\u6210\u529F\u6DFB\u52A0 PPA\uFF0C\u5C31\u53EF\u4EE5\u5B89\u88C5 PHP 8.1 \u4E86\u3002</p><h3 id="\u5B89\u88C5-1" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5-1" aria-hidden="true">#</a> \u5B89\u88C5</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> -y <span class="token punctuation">\\</span>
  php8.1 <span class="token punctuation">\\</span>
  php8.1-fpm <span class="token punctuation">\\</span>
  php8.1-common <span class="token punctuation">\\</span>
  php8.1-mysql <span class="token punctuation">\\</span>
  php8.1-opcache <span class="token punctuation">\\</span>
  php8.1-gd <span class="token punctuation">\\</span>
  php8.1-imagick <span class="token punctuation">\\</span>
  php8.1-curl <span class="token punctuation">\\</span>
  php8.1-mbstring <span class="token punctuation">\\</span>
  php8.1-xml <span class="token punctuation">\\</span>
  php8.1-zip <span class="token punctuation">\\</span>
  php8.1-snmp <span class="token punctuation">\\</span>
  php8.1-bcmath <span class="token punctuation">\\</span>
  php8.1-soap <span class="token punctuation">\\</span>
  php8.1-gmp
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#\u914D\u7F6E" aria-hidden="true">#</a> \u914D\u7F6E</h3><h4 id="\u914D\u7F6Ephp" tabindex="-1"><a class="header-anchor" href="#\u914D\u7F6Ephp" aria-hidden="true">#</a> \u914D\u7F6EPHP</h4><p>\u914D\u7F6Ephp\u7684sock\u5730\u5740\uFF0C\u6587\u4EF6\u4FDD\u5B58\u5728<code>/etc/php/8.1/fpm/pool.d/www.conf</code>\u3002</p><div class="language-ini ext-ini line-numbers-mode"><pre class="language-ini"><code><span class="token key attr-name">listen</span> <span class="token punctuation">=</span> <span class="token value attr-value">/run/php/php8.1-fpm.sock</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="\u5F00\u542Fopcache\u548Cjit" tabindex="-1"><a class="header-anchor" href="#\u5F00\u542Fopcache\u548Cjit" aria-hidden="true">#</a> \u5F00\u542Fopcache\u548Cjit</h4><p>\u6587\u4EF6 <code>/etc/php/8.1/fpm/php.ini</code> \u548C <code>/etc/php/8.1/cli/php.ini</code> \u4E2D\u4FEE\u6539\u5982\u4E0B\u914D\u7F6E\uFF1A</p><div class="language-ini ext-ini line-numbers-mode"><pre class="language-ini"><code><span class="token key attr-name">opcache.enable</span><span class="token punctuation">=</span><span class="token value attr-value">1</span>
<span class="token key attr-name">opcache.enable_cli</span><span class="token punctuation">=</span><span class="token value attr-value">1</span>
<span class="token key attr-name">opcache.jit_buffer_size</span><span class="token punctuation">=</span><span class="token value attr-value">100M</span>
<span class="token key attr-name">opcache.jit</span><span class="token punctuation">=</span><span class="token value attr-value">1255</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6267\u884C\u547D\u4EE4 <code>php -i |egrep &#39;opcache.jit |opcache.enable |opcache.enable_cli |opcache.jit_buffer_size&#39;</code> \u68C0\u67E5\u662F\u5426\u914D\u7F6E\u6210\u529F\u3002</p><h4 id="\u914D\u7F6Enginx" tabindex="-1"><a class="header-anchor" href="#\u914D\u7F6Enginx" aria-hidden="true">#</a> \u914D\u7F6ENginx</h4><p>\u914D\u7F6E<code>/etc/nginx/sites-available/default</code>\uFF0C\u4F7F\u5176\u652F\u6301php\u89E3\u6790\u3002</p><div class="language-nginx ext-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">location</span> ~ \\.php$</span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">include</span> snippets/fastcgi-php.conf</span><span class="token punctuation">;</span>
    <span class="token comment"># With php7.0-cgi alone:</span>
    <span class="token comment"># fastcgi_pass 127.0.0.1:9000;</span>
    <span class="token comment"># With php7.0-fpm:</span>
    <span class="token directive"><span class="token keyword">fastcgi_pass</span> unix:/run/php/php8.1-fpm.sock</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u91CD\u542F" tabindex="-1"><a class="header-anchor" href="#\u91CD\u542F" aria-hidden="true">#</a> \u91CD\u542F</h3><ul><li>\u91CD\u542FNginx</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> /etc/init.d/nginx restart
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>\u91CD\u542Fphp-fpm</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> /etc/init.d/php8.1-fpm restart
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="composer" tabindex="-1"><a class="header-anchor" href="#composer" aria-hidden="true">#</a> Composer</h2><ul><li>\u4E0B\u8F7D\u5B89\u88C5</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>php -r <span class="token string">&quot;copy(&#39;https://install.phpcomposer.com/installer&#39;, &#39;composer-setup.php&#39;);&quot;</span>
php composer-setup.php
php -r <span class="token string">&quot;unlink(&#39;composer-setup.php&#39;);&quot;</span>
<span class="token function">sudo</span> <span class="token function">mv</span> composer.phar /usr/local/bin/composer
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u5207\u6362 Composer \u7248\u672C \u9ED8\u8BA4\u60C5\u51B5\u4E0B\u5B89\u88C5\u7684 composer \u4E3A 2.1.14 \u7684\u7248\u672C\u3002\u5207\u6362\u5230 1.10.24</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">composer</span> self-update --1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>\u68C0\u67E5\u5E76\u786E\u5B9A\u4E0B\u7248\u672C</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">composer</span> -V <span class="token comment"># \u67E5\u770B\u5F53\u524Dcomposer\u7248\u672C</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>\u5207\u6362\u6E90</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">composer</span> config -g repos.packagist <span class="token function">composer</span> https://mirrors.aliyun.com/composer <span class="token comment"># \u5207\u6362 aliyun \u6E90</span>

<span class="token function">composer</span> config -g repo.packagist <span class="token function">composer</span> https://packagist.org <span class="token comment"># \u5207\u6362 packagist \u6E90</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="mysql" tabindex="-1"><a class="header-anchor" href="#mysql" aria-hidden="true">#</a> MySQL</h2><h3 id="\u5B89\u88C5-2" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5-2" aria-hidden="true">#</a> \u5B89\u88C5</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> -y <span class="token punctuation">\\</span>
  mysql-server <span class="token punctuation">\\</span>
  mysql-client <span class="token punctuation">\\</span>
  php8.1-mysql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5B89\u88C5\u9ED8\u8BA4\u7684\u7528\u6237\u540D\u4E3A <code>root</code> \uFF0C\u5BC6\u7801\u4E3A\u7A7A\u3002</p><p>mysqld\u7684\u914D\u7F6E\u6587\u4EF6\u5728 <code>/etc/mysql/mysql.conf.d/mysqld.cnf</code>\u3002</p><h2 id="\u53C2\u8003\u5730\u5740" tabindex="-1"><a class="header-anchor" href="#\u53C2\u8003\u5730\u5740" aria-hidden="true">#</a> \u53C2\u8003\u5730\u5740</h2>`,59),g={href:"https://blog.csdn.net/STFPHP/article/details/53492723",target:"_blank",rel:"noopener noreferrer"},k=s("Ubuntu 16.04 \u4E0B\u5FEB\u901F\u642D\u5EFA LNMP \u73AF\u5883");function f(x,_){const e=c("ExternalLinkIcon");return t(),p(d,null,[r,n("p",null,[u,n("a",h,[v,a(e)]),m]),b,n("ul",null,[n("li",null,[n("a",g,[k,a(e)])])])],64)}var q=l(o,[["render",f],["__file","ubuntu-quickly-build-lnmp-environment.html.vue"]]);export{q as default};
