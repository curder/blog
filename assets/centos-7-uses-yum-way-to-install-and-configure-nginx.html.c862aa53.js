import{r,o as t,c as p,b as n,a as l,F as i,e as s,d as a}from"./app.4f56053d.js";import{_ as c}from"./plugin-vue_export-helper.21dcd24c.js";const o={},u=s(`<h1 id="centos7\u4F7F\u7528yum\u65B9\u5F0F\u5B89\u88C5\u548C\u914D\u7F6Enginx" tabindex="-1"><a class="header-anchor" href="#centos7\u4F7F\u7528yum\u65B9\u5F0F\u5B89\u88C5\u548C\u914D\u7F6Enginx" aria-hidden="true">#</a> CentOS7\u4F7F\u7528yum\u65B9\u5F0F\u5B89\u88C5\u548C\u914D\u7F6ENginx</h1><p>Nginx\u7248\u672C\uFF1A1.12.2</p><h2 id="\u4F7F\u7528yum\u5B89\u88C5nginx" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528yum\u5B89\u88C5nginx" aria-hidden="true">#</a> \u4F7F\u7528yum\u5B89\u88C5Nginx</h2><p>\u5B89\u88C5Nginx\u4E4B\u524D\u5148\u5B89\u88C5<code>epel</code>\u8F6F\u4EF6\u4ED3\u5E93\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> yum -y <span class="token function">install</span> epel-release <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> yum -y <span class="token function">install</span> nginx
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="\u542F\u52A8nginx" tabindex="-1"><a class="header-anchor" href="#\u542F\u52A8nginx" aria-hidden="true">#</a> \u542F\u52A8Nginx</h2><h3 id="\u7CFB\u7EDF\u5B88\u62A4\u8FDB\u7A0B\u65B9\u5F0F\u542F\u52A8nginx" tabindex="-1"><a class="header-anchor" href="#\u7CFB\u7EDF\u5B88\u62A4\u8FDB\u7A0B\u65B9\u5F0F\u542F\u52A8nginx" aria-hidden="true">#</a> \u7CFB\u7EDF\u5B88\u62A4\u8FDB\u7A0B\u65B9\u5F0F\u542F\u52A8Nginx</h3><p>\u6267\u884C\u4E0B\u9762\u7684\u547D\u4EE4\u542F\u52A8<code>nignx</code>\u5E76\u4F7F\u5176\u5728CentOS\u7CFB\u7EDF\u542F\u52A8\u65F6\u8FD0\u884C\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl start nginx <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> nginx
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="\u4F7F\u7528supervisord\u7BA1\u7406\u8FDB\u7A0B" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528supervisord\u7BA1\u7406\u8FDB\u7A0B" aria-hidden="true">#</a> \u4F7F\u7528supervisord\u7BA1\u7406\u8FDB\u7A0B</h3>`,10),d={href:"/os/centos/how-to-use-supervisord-manager-processes.md",target:"_blank",rel:"noopener noreferrer"},b=a("supervisord"),h=a("\u7684\u8FDB\u7A0B\u7BA1\u7406\u53C2\u8003\u8FD9\u91CC\u3002"),m=s(`<h4 id="nginx\u7684supervisord\u914D\u7F6E\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#nginx\u7684supervisord\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a> nginx\u7684supervisord\u914D\u7F6E\u6587\u4EF6</h4><p>\u9ED8\u8BA4\u7684 supervisord \u7684\u8FDB\u7A0B\u6587\u4EF6\u4FDD\u5B58\u5728<code>/etc/supervisord.d/nginx.ini</code>\uFF0C\u5185\u5BB9\u5982\u4E0B\uFF1A</p><div class="language-ini ext-ini line-numbers-mode"><pre class="language-ini"><code><span class="token header"><span class="token punctuation">[</span><span class="token section-name selector">program:nginx</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">command</span> <span class="token punctuation">=</span> <span class="token value attr-value">/sbin/nginx                                   ; \u7A0B\u5E8F\u8DEF\u5F84</span>
<span class="token key attr-name">autostart</span> <span class="token punctuation">=</span> <span class="token value attr-value">true</span>
<span class="token key attr-name">autorestart</span> <span class="token punctuation">=</span> <span class="token value attr-value">true                                      ; \u81EA\u52A8\u91CD\u542F</span>
<span class="token key attr-name">priority</span> <span class="token punctuation">=</span> <span class="token value attr-value">999                                          ; \u4F18\u5148\u7EA7</span>
<span class="token key attr-name">startsecs</span> <span class="token punctuation">=</span> <span class="token value attr-value">1                                           ; \u91CD\u542F\u524D\u7B49\u5F85\u65F6\u95F4</span>
<span class="token key attr-name">startretries</span> <span class="token punctuation">=</span> <span class="token value attr-value">100                                      ; \u6700\u5927\u91CD\u542F\u6B21\u6570</span>
<span class="token key attr-name">stdout_logfile</span> <span class="token punctuation">=</span> <span class="token value attr-value">/var/log/nginx.out.log</span>
<span class="token key attr-name">stderr_logfile</span> <span class="token punctuation">=</span> <span class="token value attr-value">/var/log/nginx.err.log</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="\u91CD\u8F7D\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#\u91CD\u8F7D\u914D\u7F6E" aria-hidden="true">#</a> \u91CD\u8F7D\u914D\u7F6E</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>supervisorctl reread <span class="token operator">&amp;&amp;</span> supervisorctl update
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u6267\u884C\u5B8C\u4E0A\u9762\u7684\u547D\u4EE4\uFF0C\u53EF\u4EE5\u770B\u5230\u63A7\u5236\u53F0\u4F1A\u8F93\u51FA\u5982\u4E0B\u7ED3\u679C</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>nginx: available
nginx: added process group
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u81F3\u6B64\u4F7F\u7528 supervisord \u7BA1\u7406<code>nginx</code>\u8FDB\u7A0B\u5DF2\u7ECF\u5B8C\u6210\u3002</p><h2 id="\u68C0\u67E5nginx" tabindex="-1"><a class="header-anchor" href="#\u68C0\u67E5nginx" aria-hidden="true">#</a> \u68C0\u67E5Nginx</h2><h3 id="\u68C0\u67E5\u8FDB\u7A0B" tabindex="-1"><a class="header-anchor" href="#\u68C0\u67E5\u8FDB\u7A0B" aria-hidden="true">#</a> \u68C0\u67E5\u8FDB\u7A0B</h3><p>\u68C0\u67E5\u7CFB\u7EDF\u8FDB\u7A0B\u4F7F\u7528ps\u547D\u4EE4\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">ps</span> aux <span class="token operator">|</span><span class="token function">grep</span> nginx
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="\u68C0\u67E5\u7AEF\u53E3" tabindex="-1"><a class="header-anchor" href="#\u68C0\u67E5\u7AEF\u53E3" aria-hidden="true">#</a> \u68C0\u67E5\u7AEF\u53E3</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> yum -y <span class="token function">install</span> net-tools
<span class="token function">sudo</span> <span class="token function">netstat</span> -tunpl <span class="token operator">|</span><span class="token function">grep</span> <span class="token number">80</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="\u4F7F\u7528curl\u67E5\u770B\u670D\u52A1\u5668\u54CD\u5E94" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528curl\u67E5\u770B\u670D\u52A1\u5668\u54CD\u5E94" aria-hidden="true">#</a> \u4F7F\u7528curl\u67E5\u770B\u670D\u52A1\u5668\u54CD\u5E94</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> -I http://localhost
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>\u5F97\u5230\u7684\u76F8\u5E94\u4FE1\u606F\u793A\u4F8B\u5982\u4E0B\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>HTTP/1.1 200 OK
Server: nginx/1.12.2
Date: Wed, 25 Apr 2018 15:17:04 GMT
Content-Type: text/html
Content-Length: 3700
Last-Modified: Tue, 06 Mar 2018 09:26:21 GMT
Connection: keep-alive
ETag: &quot;5a9e5ebd-e74&quot;
Accept-Ranges: bytes
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>\u81F3\u6B64\uFF0CCentOS\u4E0B\u5B89\u88C5<code>nginx</code>\u5C31\u5B89\u88C5\u597D\u4E86\u3002</p>`,19);function g(v,x){const e=r("ExternalLinkIcon");return t(),p(i,null,[u,n("p",null,[n("a",d,[b,l(e)]),h]),m],64)}var y=c(o,[["render",g]]);export{y as default};
