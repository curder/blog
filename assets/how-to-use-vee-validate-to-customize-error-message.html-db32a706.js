import{_ as o,M as l,p as i,q as c,a1 as u,R as n,t as s,N as e}from"./framework-64ffeeb4.js";const r={},d=["src"],k=["src"],v={href:"https://oomusou.io/vue/vee-validate/custom-message/",target:"_blank",rel:"noopener noreferrer"},m={href:"https://baianat.github.io/vee-validate/",target:"_blank",rel:"noopener noreferrer"},g={href:"https://baianat.github.io/vee-validate/guide/messages.html",target:"_blank",rel:"noopener noreferrer"};function b(p,a){const t=l("ExternalLinkIcon");return i(),c("div",null,[a[5]||(a[5]=u(`<h1 id="如何使用-vee-validate-自定义错误提示" tabindex="-1"><a class="header-anchor" href="#如何使用-vee-validate-自定义错误提示" aria-hidden="true">#</a> 如何使用 vee-validate 自定义错误提示</h1><p>VeeValidate 插件自带错误提示语言，但在实际的开发场景中我们常常需要对提示语言进行自定义。</p><h2 id="版本" tabindex="-1"><a class="header-anchor" href="#版本" aria-hidden="true">#</a> 版本</h2><ul><li>Vue <code>2.5.22</code></li><li>vue-validate <code>2.1.7</code></li></ul><h2 id="编写-demoform-vue" tabindex="-1"><a class="header-anchor" href="#编写-demoform-vue" aria-hidden="true">#</a> 编写 DemoForm.vue</h2><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-validate</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{required: true, email: true}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-vv-as</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>邮箱<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{ errors.first(&#39;email&#39;) }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> VeeValidate<span class="token punctuation">,</span> <span class="token punctuation">{</span>Validator<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vee-validate&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> zh_CN <span class="token keyword">from</span> <span class="token string">&#39;vee-validate/dist/locale/zh_CN&#39;</span><span class="token punctuation">;</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VeeValidate<span class="token punctuation">)</span><span class="token punctuation">;</span>
Validator<span class="token punctuation">.</span><span class="token function">localize</span><span class="token punctuation">(</span><span class="token string">&#39;zh_CN&#39;</span><span class="token punctuation">,</span> zh_CN<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/** custom message */</span>
<span class="token keyword">const</span> <span class="token function-variable function">required</span> <span class="token operator">=</span> <span class="token parameter">field</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">请输入</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>field<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
<span class="token keyword">const</span> email <span class="token operator">=</span> <span class="token string">&#39;邮箱格式有误&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> messages <span class="token operator">=</span> <span class="token punctuation">{</span>
  required<span class="token punctuation">,</span>
  email<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/** custom dictionary */</span>
<span class="token keyword">const</span> dictionary <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">zh_CN</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    messages<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

Validator<span class="token punctuation">.</span><span class="token function">localize</span><span class="token punctuation">(</span>dictionary<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;DemoForm&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>通过 data-vv-as 指令标示当前字段的语言名称，比如 email 字段的简体中文名称是邮箱</p></li><li><p>除了 import 基本的 VeeValidate 外，还需要导入 Validator 用于配置语言</p></li><li><p>导入对应的语言文件，这里以简体中文为例是 <code>zh_CN</code></p></li><li><p>使用 <code>Validator.localize()</code> 设定为 <code>zh_CN</code></p></li><li><p>将自定义信息定义在 dictionary，其中第一层是语言，比如：<code>zh_CN</code> <code>zh_TW</code>等；第二层定义语言对象</p></li><li><p>VeeValidate 規定自定义信息对象每个属性的值可以是<code>function</code>或<code>string</code>。若为 function，则第一个参数为字段的 name 值；若为 string，则可以直接赋值</p></li><li><p>最后再将定义好的对象 <code>dictionary</code> 传入 <code>Validator.localize()</code></p></li></ul><h2 id="验证" tabindex="-1"><a class="header-anchor" href="#验证" aria-hidden="true">#</a> 验证</h2>`,8)),n("ul",null,[n("li",null,[n("p",null,[a[0]||(a[0]=s("不允许为空的自定义提示 ",-1)),n("img",{src:p.$withBase("/images/languages/vue/vee-validate/how-to-use-vee-validate-to-customize-error-message/vee-validate-check-input-required-rule-by-custom-message.png"),alt:""},null,8,d)])]),n("li",null,[n("p",null,[a[1]||(a[1]=s("邮箱地址不合法的自定义提示 ",-1)),n("img",{src:p.$withBase("/images/languages/vue/vee-validate/how-to-use-vee-validate-to-customize-error-message/vee-validate-check-input-email-rule-by-custom-message.png"),alt:""},null,8,k)])])]),a[6]||(a[6]=n("h2",{id:"参考地址",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#参考地址","aria-hidden":"true"},"#"),s(" 参考地址")],-1)),n("ul",null,[n("li",null,[n("a",v,[a[2]||(a[2]=s("如何使用 VeeValidate 顯示自訂訊息 ?",-1)),e(t)])]),n("li",null,[n("a",m,[a[3]||(a[3]=s("VeeValidate Docs",-1)),e(t)])]),n("li",null,[n("a",g,[a[4]||(a[4]=s("Error Messages",-1)),e(t)])])])])}const f=o(r,[["render",b],["__file","how-to-use-vee-validate-to-customize-error-message.html.vue"]]);export{f as default};
