import{_ as l,r,o as i,c as d,b as e,a as s,F as o,e as c,d as n}from"./app.a8048298.js";var t="/blog/assets/firewalld-start-status.77565008.png",p="/blog/assets/firewalld-stop-status.4a3d872d.png";const u={},h=c(`<h1 id="centos7\u4E2Dfirewalld\u9632\u706B\u5899\u7684\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#centos7\u4E2Dfirewalld\u9632\u706B\u5899\u7684\u4F7F\u7528" aria-hidden="true">#</a> CentOS7\u4E2Dfirewalld\u9632\u706B\u5899\u7684\u4F7F\u7528</h1><h3 id="\u7B80\u4ECB" tabindex="-1"><a class="header-anchor" href="#\u7B80\u4ECB" aria-hidden="true">#</a> \u7B80\u4ECB</h3><p><code>firewalld</code>\u662F CentOS7 \u7684\u4E00\u5927\u7279\u6027\uFF0C\u6700\u5927\u7684\u597D\u5904\u662F\uFF1A1. \u652F\u6301\u52A8\u6001\u66F4\u65B0\uFF0C\u4E0D\u7528\u91CD\u542F\u670D\u52A1 2. \u52A0\u5165\u4E86\u9632\u706B\u5899\u7684\u201Czone\u201D\u6982\u5FF5\u3002</p><p><code>firewalld</code>\u7684\u5B57\u7B26\u754C\u9762\u7BA1\u7406\u5DE5\u5177\u662F <code>firewall-cmd</code>\u3002</p><p>zone\u6982\u5FF5\uFF1A \u786C\u4EF6\u9632\u706B\u5899\u9ED8\u8BA4\u4E00\u822C\u6709\u4E09\u4E2A\u533A\uFF0Cfirewalld\u5F15\u5165\u8FD9\u4E00\u6982\u5FF5\uFF0C\u7CFB\u7EDF\u9ED8\u8BA4\u5B58\u5728\u4EE5\u4E0B\u533A\u57DF\uFF1A</p><ul><li><code>drop</code>\uFF1A\u9ED8\u8BA4\u4E22\u5F03\u6240\u6709\u5305</li><li><code>block</code>\uFF1A\u62D2\u7EDD\u6240\u6709\u5916\u90E8\u8FDE\u63A5\uFF0C\u5141\u8BB8\u5185\u90E8\u53D1\u8D77\u7684\u8FDE\u63A5</li><li><code>public</code>\uFF1A\u6307\u5B9A\u5916\u90E8\u8FDE\u63A5\u53EF\u4EE5\u8FDB\u5165</li><li><code>external</code>\uFF1A\u8FD9\u4E2A\u4E0D\u592A\u660E\u767D\uFF0C\u529F\u80FD\u4E0A\u548C\u4E0A\u9762\u76F8\u540C\uFF0C\u5141\u8BB8\u6307\u5B9A\u7684\u5916\u90E8\u8FDE\u63A5</li><li><code>dmz</code>\uFF1A\u548C\u786C\u4EF6\u9632\u706B\u5899\u4E00\u6837\uFF0C\u53D7\u9650\u5236\u7684\u516C\u5171\u8FDE\u63A5\u53EF\u4EE5\u8FDB\u5165</li><li><code>work</code>\uFF1A\u5DE5\u4F5C\u533A\uFF0C\u6982\u5FF5\u548Cworkgoup\u4E00\u6837\uFF0C\u4E5F\u662F\u6307\u5B9A\u7684\u5916\u90E8\u8FDE\u63A5\u5141\u8BB8</li><li><code>home</code>\uFF1A\u7C7B\u4F3C\u5BB6\u5EAD\u7EC4</li><li><code>internal</code>\uFF1A\u4FE1\u4EFB\u6240\u6709\u8FDE\u63A5</li></ul><h2 id="firewalld\u7BA1\u7406\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#firewalld\u7BA1\u7406\u547D\u4EE4" aria-hidden="true">#</a> firewalld\u7BA1\u7406\u547D\u4EE4</h2><p>CentOS 7 \u548C Fedora 20+ \u5DF2\u7ECF\u5305\u542B\u4E86 Firewalld\uFF0C\u4F46\u662F\u9ED8\u8BA4\u6CA1\u6709\u6FC0\u6D3B\u3002</p><h3 id="\u542F\u52A8\u5E76\u5728\u7CFB\u7EDF\u5F15\u5BFC\u65F6\u542F\u52A8\u8BE5\u670D\u52A1" tabindex="-1"><a class="header-anchor" href="#\u542F\u52A8\u5E76\u5728\u7CFB\u7EDF\u5F15\u5BFC\u65F6\u542F\u52A8\u8BE5\u670D\u52A1" aria-hidden="true">#</a> \u542F\u52A8\u5E76\u5728\u7CFB\u7EDF\u5F15\u5BFC\u65F6\u542F\u52A8\u8BE5\u670D\u52A1</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl start firewalld
<span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> firewalld
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u505C\u6B62\u5E76\u7981\u7528" tabindex="-1"><a class="header-anchor" href="#\u505C\u6B62\u5E76\u7981\u7528" aria-hidden="true">#</a> \u505C\u6B62\u5E76\u7981\u7528</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl stop firewalld
<span class="token function">sudo</span> systemctl disable firewalld
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u67E5\u770B\u72B6\u6001" tabindex="-1"><a class="header-anchor" href="#\u67E5\u770B\u72B6\u6001" aria-hidden="true">#</a> \u67E5\u770B\u72B6\u6001</h3><h4 id="\u7B80\u5355\u67E5\u770B" tabindex="-1"><a class="header-anchor" href="#\u7B80\u5355\u67E5\u770B" aria-hidden="true">#</a> \u7B80\u5355\u67E5\u770B</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> firewall-cmd --state
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>\u8F93\u51FA\u5E94\u8BE5\u662F <code>running</code> \u6216\u8005 <code>not running</code>\u3002</p></blockquote><h3 id="\u67E5\u770B\u5B88\u62A4\u8FDB\u7A0B\u72B6\u6001" tabindex="-1"><a class="header-anchor" href="#\u67E5\u770B\u5B88\u62A4\u8FDB\u7A0B\u72B6\u6001" aria-hidden="true">#</a> \u67E5\u770B\u5B88\u62A4\u8FDB\u7A0B\u72B6\u6001</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl status firewalld
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="`+t+'" alt="firewalld\u542F\u7528\u72B6\u6001"></p><p><img src="'+p+`" alt="firewalld\u7981\u7528\u72B6\u6001"></p><h3 id="\u91CD\u65B0\u52A0\u8F7D\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#\u91CD\u65B0\u52A0\u8F7D\u914D\u7F6E" aria-hidden="true">#</a> \u91CD\u65B0\u52A0\u8F7D\u914D\u7F6E</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> firewall-cmd --reload
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#\u914D\u7F6E" aria-hidden="true">#</a> \u914D\u7F6E</h2><p><code>firewalld</code>\u9ED8\u8BA4\u914D\u7F6E\u6587\u4EF6\u6709\u4E24\u4E2A\u3002</p><ol><li><p><code>/usr/lib/firewalld/</code> \u5982\u9ED8\u8BA4\u533A\u57DF\u548C\u516C\u7528\u670D\u52A1\u3002\u5728\u4F7F\u7528\u4E2D\u5C3D\u91CF\u907F\u514D\u4FEE\u6539\u5B83\u4EEC\uFF0C\u56E0\u4E3A\u6BCF\u6B21 firewall \u8F6F\u4EF6\u5305\u5728\u66F4\u65B0\u7684\u65F6\u5019\u90FD\u4F1A\u8986\u76D6\u8FD9\u4E9B\u6587\u4EF6\u3002</p></li><li><p><code>/etc/firewalld/</code> \u4FDD\u5B58\u7CFB\u7EDF\u914D\u7F6E\u6587\u4EF6\u3002 \u8FD9\u4E9B\u6587\u4EF6\u4E2D\u7684\u914D\u7F6E\u5C06\u8986\u76D6\u9ED8\u8BA4\u914D\u7F6E\u3002</p></li></ol><h3 id="\u914D\u7F6E\u96C6" tabindex="-1"><a class="header-anchor" href="#\u914D\u7F6E\u96C6" aria-hidden="true">#</a> \u914D\u7F6E\u96C6</h3><p>firewalld \u4F7F\u7528\u4E24\u4E2A\u914D\u7F6E\u96C6\uFF1A<strong>\u8FD0\u884C\u65F6</strong>\u548C<strong>\u6301\u4E45</strong>\u3002 \u5728\u7CFB\u7EDF\u91CD\u65B0\u542F\u52A8\u6216\u91CD\u65B0\u542F\u52A8 firewalld \u65F6\uFF0C\u4E0D\u4F1A\u4FDD\u7559\u8FD0\u884C\u65F6\u7684\u914D\u7F6E\u66F4\u6539\uFF0C\u800C\u5BF9\u6301\u4E45\u914D\u7F6E\u96C6\u7684\u66F4\u6539\u4E0D\u4F1A\u5E94\u7528\u4E8E\u6B63\u5728\u8FD0\u884C\u7684\u7CFB\u7EDF\u3002</p><p>\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C<code>firewall-cmd</code> \u547D\u4EE4\u9002\u7528\u4E8E\u8FD0\u884C\u65F6\u914D\u7F6E\uFF0C\u4F46\u5728\u6267\u884C\u547D\u4EE4\u7684\u65F6\u5019\u52A0\u4E0A <code>--permanent</code> \u53C2\u6570\u5C06\u4FDD\u5B58\u5230\u6301\u4E45\u914D\u7F6E\u4E2D\u3002\u53EF\u4EE5\u9009\u62E9\u4E0B\u9762\u7684\u65B9\u5F0F\u4E4B\u4E00\u8FDB\u884C\u6301\u4E45\u5316\u914D\u7F6E\uFF1A</p><ol><li>\u5C06\u89C4\u5219\u540C\u65F6\u6DFB\u52A0\u5230\u6301\u4E45\u89C4\u5219\u96C6\u548C\u8FD0\u884C\u65F6\u89C4\u5219\u96C6\u4E2D</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> firewall-cmd --zone<span class="token operator">=</span>public --add-service<span class="token operator">=</span>http --permanent
<span class="token function">sudo</span> firewall-cmd --zone<span class="token operator">=</span>public --add-service<span class="token operator">=</span>http
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>\u5C06\u89C4\u5219\u6DFB\u52A0\u5230\u6301\u4E45\u89C4\u5219\u96C6\u4E2D\u5E76\u91CD\u65B0\u52A0\u8F7D firewalld</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> firewall-cmd --zone<span class="token operator">=</span>public --add-service<span class="token operator">=</span>http --permanent
<span class="token function">sudo</span> firewall-cmd --reload
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u4F7F\u7528<code>reload</code>\u547D\u4EE4\u91CD\u8F7D\u914D\u7F6E\u7684\u65F6\u5019\u4F1A\u5220\u9664\u6240\u6709\u8FD0\u884C\u65F6\u914D\u7F6E\u5E76\u5E94\u7528\u6C38\u4E45\u914D\u7F6E\u3002\u56E0\u4E3A firewalld \u52A8\u6001\u7BA1\u7406\u89C4\u5219\u96C6\uFF0C\u6240\u4EE5\u5B83\u4E0D\u4F1A\u7834\u574F\u73B0\u6709\u7684\u8FDE\u63A5\u548C\u4F1A\u8BDD\u3002</p></blockquote><h2 id="centos7-\u5F00\u653E\u7AEF\u53E3" tabindex="-1"><a class="header-anchor" href="#centos7-\u5F00\u653E\u7AEF\u53E3" aria-hidden="true">#</a> CentOs7 \u5F00\u653E\u7AEF\u53E3</h2><h3 id="\u5F00\u653E\u7AEF\u53E3" tabindex="-1"><a class="header-anchor" href="#\u5F00\u653E\u7AEF\u53E3" aria-hidden="true">#</a> \u5F00\u653E\u7AEF\u53E3</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>firewall-cmd --zone<span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">80</span>/tcp --permanent
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u547D\u4EE4\u542B\u4E49\uFF1A</p><ul><li><p><code>--zone</code> \u4F5C\u7528\u57DF</p></li><li><p><code>--add-port=80/tcp</code> \u6DFB\u52A0\u7AEF\u53E3\uFF0C\u683C\u5F0F\u4E3A\uFF1A\u7AEF\u53E3/\u901A\u8BAF\u534F\u8BAE</p></li><li><p><code>--permanent</code> \u6C38\u4E45\u751F\u6548\uFF0C\u6CA1\u52A0\u6B64\u53C2\u6570\u91CD\u542F firewall \u540E\u4FEE\u6539\u7684\u914D\u7F6E\u5931\u6548</p></li></ul><h3 id="\u5141\u8BB8\u6216\u8005\u62D2\u7EDD\u4EFB\u610F\u7AEF\u53E3-\u534F\u8BAE" tabindex="-1"><a class="header-anchor" href="#\u5141\u8BB8\u6216\u8005\u62D2\u7EDD\u4EFB\u610F\u7AEF\u53E3-\u534F\u8BAE" aria-hidden="true">#</a> \u5141\u8BB8\u6216\u8005\u62D2\u7EDD\u4EFB\u610F\u7AEF\u53E3/\u534F\u8BAE</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> firewall-cmd --zone<span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">12345</span>/tcp --permanent
<span class="token function">sudo</span> firewall-cmd --zone<span class="token operator">=</span>public --remove-port<span class="token operator">=</span><span class="token number">12345</span>/tcp --permanent
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u5141\u8BB8\u6216\u8005\u7981\u7528 12345 \u7AEF\u53E3\u7684 TCP \u6D41\u91CF</p></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> firewall-cmd --zone<span class="token operator">=</span>public --add-port<span class="token operator">=</span><span class="token number">12345</span>/udp --permanent
<span class="token function">sudo</span> firewall-cmd --zone<span class="token operator">=</span>public --remove-port<span class="token operator">=</span><span class="token number">12345</span>/udp --permanent
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u5141\u8BB8\u6216\u7981\u7528 12345 \u7AEF\u53E3\u7684 UDP \u6D41\u91CF\u3002</p></blockquote><h3 id="\u67E5\u770B\u7AEF\u53E3\u7684tcp\u534F\u8BAE\u662F\u5426\u88AB\u5141\u8BB8" tabindex="-1"><a class="header-anchor" href="#\u67E5\u770B\u7AEF\u53E3\u7684tcp\u534F\u8BAE\u662F\u5426\u88AB\u5141\u8BB8" aria-hidden="true">#</a> \u67E5\u770B\u7AEF\u53E3\u7684tcp\u534F\u8BAE\u662F\u5426\u88AB\u5141\u8BB8</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> firewall-cmd --zone<span class="token operator">=</span>public --query-port<span class="token operator">=</span><span class="token number">8080</span>/tcp
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u67E5\u770B\u6240\u6709\u6253\u5F00\u7684\u7AEF\u53E3" tabindex="-1"><a class="header-anchor" href="#\u67E5\u770B\u6240\u6709\u6253\u5F00\u7684\u7AEF\u53E3" aria-hidden="true">#</a> \u67E5\u770B\u6240\u6709\u6253\u5F00\u7684\u7AEF\u53E3</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> firewall-cmd --zone<span class="token operator">=</span>public --list-ports
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u5C4F\u853D-\u89E3\u5C01ip" tabindex="-1"><a class="header-anchor" href="#\u5C4F\u853D-\u89E3\u5C01ip" aria-hidden="true">#</a> \u5C4F\u853D/\u89E3\u5C01IP</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>firewall-cmd  --add-rich-rule<span class="token operator">=</span><span class="token string">&quot;rule family=&#39;ipv4&#39; source address=&#39;114.114.114.114&#39; reject&quot;</span>  <span class="token comment"># \u4E34\u65F6\u5C4F\u853D\u67D0\u4E2Aip\uFF0C\u91CD\u542F\u5931\u6548</span>
firewall-cmd  --add-rich-rule<span class="token operator">=</span><span class="token string">&quot;rule family=&#39;ipv4&#39; source address=&#39;114.114.114.114&#39; reject&quot;</span>  --permanent <span class="token comment"># \u6C38\u4E45\u5C4F\u853Dip\uFF0C\u91CD\u542F\u4F9D\u65E7\u751F\u6548</span>

firewall-cmd --remove-rich-rule<span class="token operator">=</span><span class="token string">&quot;rule family=&#39;ipv4&#39; source address=&#39;114.114.114.114&#39; reject&quot;</span> <span class="token comment"># \u6C38\u4E45\u5220\u9664\u5C4F\u853Dip\uFF0C\u91CD\u542F\u5931\u6548</span>

firewall-cmd --remove-rich-rule<span class="token operator">=</span><span class="token string">&quot;rule family=&#39;ipv4&#39; source address=&#39;114.114.114.114&#39; reject&quot;</span>  --permanent <span class="token comment"># \u6C38\u4E45\u5220\u9664\u5C4F\u853Dip\uFF0C\u91CD\u542F\u4F9D\u65E7\u751F\u6548</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u53C2\u8003\u5730\u5740" tabindex="-1"><a class="header-anchor" href="#\u53C2\u8003\u5730\u5740" aria-hidden="true">#</a> \u53C2\u8003\u5730\u5740</h2>`,50),m={href:"https://access.redhat.com/documentation/zh-cn/red_hat_enterprise_linux/7/html/security_guide/sec-using_firewalls#sec-Introduction_to_firewalld",target:"_blank",rel:"noopener noreferrer"},b=n("firewalld\u5B98\u65B9\u6587\u6863"),v={href:"https://linux.cn/article-8098-1.html",target:"_blank",rel:"noopener noreferrer"},f=n("CentOS \u4E0A\u7684 FirewallD \u7B80\u660E\u6307\u5357"),g={href:"http://blog.51cto.com/mrxiong2017/2084726",target:"_blank",rel:"noopener noreferrer"},k=n("CentOS 7 \u4E0B\u4F7F\u7528 FirewallD\u9632\u706B\u5899\u7684\u914D\u7F6E\u4E0E\u7BA1\u7406");function w(_,x){const a=r("ExternalLinkIcon");return i(),d(o,null,[h,e("ul",null,[e("li",null,[e("p",null,[e("a",m,[b,s(a)])])]),e("li",null,[e("p",null,[e("a",v,[f,s(a)])])]),e("li",null,[e("p",null,[e("a",g,[k,s(a)])])])])],64)}var z=l(u,[["render",w],["__file","how-to-use-firewall-package-in-centos7.html.vue"]]);export{z as default};
