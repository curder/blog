import{_ as e,r as t,o as p,c as i,b as n,a as l,F as o,e as c,d as s}from"./app.4e8337c5.js";const r={},k=c(`<h1 id="\u8BA9valet\u652F\u6301thinkphp3" tabindex="-1"><a class="header-anchor" href="#\u8BA9valet\u652F\u6301thinkphp3" aria-hidden="true">#</a> \u8BA9Valet\u652F\u6301ThinkPHP3</h1><p>\u4E3B\u8981\u901A\u8FC7\u914D\u7F6E\u6587\u4EF6\u91CD\u5199\u914D\u7F6E\u83B7\u5F97ThinkPHP3\u7684\u652F\u6301\uFF0C\u914D\u7F6E\u6587\u4EF6\u653E\u7F6E\u5728<code>~/.valet/Drivers/</code>\u4E0B\uFF0C\u9488\u5BF9ThinkPHP3\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528\u5982\u4E0B\u914D\u7F6E\u6587\u4EF6\uFF0C\u6587\u4EF6\u540D\u547D\u540D\u4E3A<code>ThinkPHP3ValetDriver.php</code>\uFF1A</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">ThinkPHP3ValetDriver</span> <span class="token keyword">extends</span> <span class="token class-name">SampleValetDriver</span>
<span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * Determine if the driver serves the request.
     *
     * <span class="token keyword">@param</span>  <span class="token class-name"><span class="token keyword">string</span></span>  <span class="token parameter">$sitePath</span>
     * <span class="token keyword">@param</span>  <span class="token class-name"><span class="token keyword">string</span></span>  <span class="token parameter">$siteName</span>
     * <span class="token keyword">@param</span>  <span class="token class-name"><span class="token keyword">string</span></span>  <span class="token parameter">$uri</span>
     * <span class="token keyword">@return</span> <span class="token class-name"><span class="token keyword">bool</span></span>
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">serves</span><span class="token punctuation">(</span><span class="token variable">$sitePath</span><span class="token punctuation">,</span> <span class="token variable">$siteName</span><span class="token punctuation">,</span> <span class="token variable">$uri</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>

        <span class="token keyword">return</span> <span class="token function">file_exists</span><span class="token punctuation">(</span><span class="token variable">$sitePath</span><span class="token operator">.</span><span class="token string single-quoted-string">&#39;/index.php&#39;</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
               <span class="token function">file_exists</span><span class="token punctuation">(</span><span class="token variable">$sitePath</span><span class="token operator">.</span><span class="token string single-quoted-string">&#39;/admin_index.php&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * Determine if the incoming request is for a static file.
     *
     * <span class="token keyword">@param</span>  <span class="token class-name"><span class="token keyword">string</span></span>  <span class="token parameter">$sitePath</span>
     * <span class="token keyword">@param</span>  <span class="token class-name"><span class="token keyword">string</span></span>  <span class="token parameter">$siteName</span>
     * <span class="token keyword">@param</span>  <span class="token class-name"><span class="token keyword">string</span></span>  <span class="token parameter">$uri</span>
     * <span class="token keyword">@return</span> <span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">|</span><span class="token keyword">false</span></span>
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">isStaticFile</span><span class="token punctuation">(</span><span class="token variable">$sitePath</span><span class="token punctuation">,</span> <span class="token variable">$siteName</span><span class="token punctuation">,</span> <span class="token variable">$uri</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">file_exists</span><span class="token punctuation">(</span><span class="token variable">$staticFilePath</span> <span class="token operator">=</span> <span class="token variable">$sitePath</span> <span class="token operator">.</span> <span class="token variable">$uri</span> <span class="token operator">.</span> <span class="token string single-quoted-string">&#39;index.html&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token variable">$staticFilePath</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">elseif</span> <span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">isActualFile</span><span class="token punctuation">(</span><span class="token variable">$staticFilePath</span> <span class="token operator">=</span> <span class="token variable">$sitePath</span><span class="token operator">.</span><span class="token variable">$uri</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token variable">$staticFilePath</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token constant boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * Get the fully resolved path to the application&#39;s front controller.
     *
     * <span class="token keyword">@param</span>  <span class="token class-name"><span class="token keyword">string</span></span>  <span class="token parameter">$sitePath</span>
     * <span class="token keyword">@param</span>  <span class="token class-name"><span class="token keyword">string</span></span>  <span class="token parameter">$siteName</span>
     * <span class="token keyword">@param</span>  <span class="token class-name"><span class="token keyword">string</span></span>  <span class="token parameter">$uri</span>
     * <span class="token keyword">@return</span> <span class="token class-name"><span class="token keyword">string</span></span>
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">frontControllerPath</span><span class="token punctuation">(</span><span class="token variable">$sitePath</span><span class="token punctuation">,</span> <span class="token variable">$siteName</span><span class="token punctuation">,</span> <span class="token variable">$uri</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$sitePath</span><span class="token operator">.</span><span class="token string single-quoted-string">&#39;/index.php&#39;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3),d=s("\u5173\u4E8E\u4E0A\u9762\u7684\u4E09\u4E2A\u65B9\u6CD5"),u=n("code",null,"serves",-1),v=s("\u3001"),m=n("code",null,"isStaticFile",-1),b=s("\u548C"),h=n("code",null,"frontControllerPath",-1),f=s(" \u65B9\u6CD5\u7684\u5177\u4F53\u4ECB\u7ECD\u53EF\u4EE5\u901A\u8FC7"),y={href:"https://laravel.com/docs/5.5/valet#custom-valet-drivers",target:"_blank",rel:"noopener noreferrer"},_=s("\u67E5\u770B\u5B98\u7F51"),w=s("\u83B7\u5F97\u66F4\u591A\u5E2E\u52A9\u3002");function g($,P){const a=t("ExternalLinkIcon");return p(),i(o,null,[k,n("p",null,[d,u,v,m,b,h,f,n("a",y,[_,l(a)]),w])],64)}var N=e(r,[["render",g],["__file","valet-support-thinkphp-3.html.vue"]]);export{N as default};
