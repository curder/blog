(self.webpackChunkblog=self.webpackChunkblog||[]).push([[3540],{2598:(e,s,n)=>{"use strict";n.r(s),n.d(s,{data:()=>a});const a={key:"v-08fe80ba",path:"/tools/git/ssh-server-to-use-keyless-login-on-git-server.html",title:"GitæœåŠ¡å™¨ä¸Šä½¿ç”¨SSHåè®®æˆæƒå…å¯†ç ç™»å½•",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"åŸºæœ¬çš„SSHé…ç½®",slug:"åŸºæœ¬çš„sshé…ç½®",children:[{level:3,title:"ä½¿ç”¨å‘½ä»¤ç”ŸæˆSSHå…¬é’¥å’Œç§˜é’¥",slug:"ä½¿ç”¨å‘½ä»¤ç”Ÿæˆsshå…¬é’¥å’Œç§˜é’¥",children:[]},{level:3,title:"æ‹·è´å†…å®¹åˆ°ç¬¬ä¸‰æ–¹Gitå¹³å°",slug:"æ‹·è´å†…å®¹åˆ°ç¬¬ä¸‰æ–¹gitå¹³å°",children:[]},{level:3,title:"éªŒè¯æ˜¯å¦æˆåŠŸæˆæƒ",slug:"éªŒè¯æ˜¯å¦æˆåŠŸæˆæƒ",children:[]}]},{level:2,title:"åœ¨åŒä¸€è®¾å¤‡ä¸Šé…ç½®å¤šä¸ªå…¬é’¥",slug:"åœ¨åŒä¸€è®¾å¤‡ä¸Šé…ç½®å¤šä¸ªå…¬é’¥",children:[{level:3,title:"ç”Ÿæˆç¬¬äºŒä¸ªå…¬é’¥",slug:"ç”Ÿæˆç¬¬äºŒä¸ªå…¬é’¥",children:[]},{level:3,title:"å…‹éš†ä»£ç éœ€è¦æ³¨æ„çš„åœ°æ–¹",slug:"å…‹éš†ä»£ç éœ€è¦æ³¨æ„çš„åœ°æ–¹",children:[]}]},{level:2,title:"å‚è€ƒåœ°å€",slug:"å‚è€ƒåœ°å€",children:[]}],filePathRelative:"tools/git/ssh-server-to-use-keyless-login-on-git-server.md",git:{updatedTime:1625567472e3,contributors:[]}}},9501:(e,s,n)=>{"use strict";n.r(s),n.d(s,{default:()=>U});var a=n(6252);const l=(0,a.uE)('<h1 id="gitæœåŠ¡å™¨ä¸Šä½¿ç”¨sshåè®®æˆæƒå…å¯†ç ç™»å½•" tabindex="-1"><a class="header-anchor" href="#gitæœåŠ¡å™¨ä¸Šä½¿ç”¨sshåè®®æˆæƒå…å¯†ç ç™»å½•" aria-hidden="true">#</a> GitæœåŠ¡å™¨ä¸Šä½¿ç”¨SSHåè®®æˆæƒå…å¯†ç ç™»å½•</h1><p>åœ¨MaxOSXå’ŒCentOSä¸Šæµ‹è¯•å¯ä»¥é€šè¿‡ï¼ŒWindowsç³»ç»Ÿå¯ä»¥å‚è€ƒå®ç°æ€è·¯ã€‚</p><h2 id="åŸºæœ¬çš„sshé…ç½®" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬çš„sshé…ç½®" aria-hidden="true">#</a> åŸºæœ¬çš„SSHé…ç½®</h2><h3 id="ä½¿ç”¨å‘½ä»¤ç”Ÿæˆsshå…¬é’¥å’Œç§˜é’¥" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨å‘½ä»¤ç”Ÿæˆsshå…¬é’¥å’Œç§˜é’¥" aria-hidden="true">#</a> ä½¿ç”¨å‘½ä»¤ç”ŸæˆSSHå…¬é’¥å’Œç§˜é’¥</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>ssh-keygen -t rsa -C <span class="token string">&quot;your_email@example.com&quot;</span> -f your_email_rsa\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤ä¼šåœ¨å½“å‰ç”¨æˆ·çš„å®¶ç›®å½•ä¸‹ç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶ï¼š<code>~/.ssh/your_email_rsa</code>ç§˜é’¥å’Œ<code>~/.ssh/your_email_rsa.pub</code>å…¬é’¥ã€‚</p><blockquote><p>å…¶ä¸­å‚æ•°<code>-C</code>çš„ä½œç”¨æ˜¯æä¾›ä¸€ä¸ªå¤‡æ³¨ï¼Œ<code>-f</code>å‚æ•°çš„ä½œç”¨æ˜¯æŒ‡å®šè¦ç”Ÿæˆæ–‡ä»¶åã€‚æ›´å¤šå‚æ•°å¯ä»¥ä½¿ç”¨<code>ssh-keygen --help</code>æŸ¥çœ‹ã€‚</p></blockquote><h3 id="æ‹·è´å†…å®¹åˆ°ç¬¬ä¸‰æ–¹gitå¹³å°" tabindex="-1"><a class="header-anchor" href="#æ‹·è´å†…å®¹åˆ°ç¬¬ä¸‰æ–¹gitå¹³å°" aria-hidden="true">#</a> æ‹·è´å†…å®¹åˆ°ç¬¬ä¸‰æ–¹Gitå¹³å°</h3><h4 id="è·å–sshå…¬é’¥å†…å®¹" tabindex="-1"><a class="header-anchor" href="#è·å–sshå…¬é’¥å†…å®¹" aria-hidden="true">#</a> è·å–SSHå…¬é’¥å†…å®¹</h4><p>é€šè¿‡ä¸‹é¢çš„å‘½ä»¤ï¼Œè·å–ä¸Šé¢ä½¿ç”¨<code>ssh-keygen</code>å‘½ä»¤ç”Ÿæˆçš„å…¬é’¥å†…å®¹å¹¶æ‹·è´ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">cat</span> ~/.ssh/your_email_rsa.pub\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h4 id="å°†å…¬é’¥å†…å®¹å¤åˆ¶è‡³ä»£ç æ‰˜ç®¡å¹³å°ä¸Š" tabindex="-1"><a class="header-anchor" href="#å°†å…¬é’¥å†…å®¹å¤åˆ¶è‡³ä»£ç æ‰˜ç®¡å¹³å°ä¸Š" aria-hidden="true">#</a> å°†å…¬é’¥å†…å®¹å¤åˆ¶è‡³ä»£ç æ‰˜ç®¡å¹³å°ä¸Š</h4>',12),r=(0,a.Uk)("è¿™é‡Œä»¥GitHubä¸ºä¾‹ï¼Œè¿›å…¥ "),o={href:"https://github.com/",target:"_blank",rel:"noopener noreferrer"},i=(0,a.Uk)("GiHub"),t=(0,a.Uk)(" --\x3e "),c={href:"https://github.com/settings/profile",target:"_blank",rel:"noopener noreferrer"},d=(0,a.Uk)("Setting"),h=(0,a.Uk)(" --\x3e "),u={href:"https://github.com/settings/keys",target:"_blank",rel:"noopener noreferrer"},p=(0,a.Uk)("SSH and GPG keys"),b=(0,a.Uk)(" ï¼Œç‚¹å‡» "),g={href:"https://github.com/settings/ssh/new",target:"_blank",rel:"noopener noreferrer"},m=(0,a.Uk)("New SSH key"),k=(0,a.Uk)(" æŒ‰é’®ã€‚"),v=(0,a.Wm)("ul",null,[(0,a.Wm)("li",null,[(0,a.Uk)("åœ¨ "),(0,a.Wm)("strong",null,"Title"),(0,a.Uk)(" æ–‡æœ¬æ¡†ä¸­è¾“å…¥ä¸€ä¸ªæ ‡è¯†å­—ç¬¦")]),(0,a.Wm)("li",null,[(0,a.Uk)("åœ¨ "),(0,a.Wm)("strong",null,"Key"),(0,a.Uk)(" æ–‡æœ¬æ¡†ç²˜è´´åˆšæ‰å¤åˆ¶çš„å…¬é’¥å­—ç¬¦ä¸²ï¼Œå³"),(0,a.Wm)("code",null,"YOUR_NAME.pub"),(0,a.Uk)("æ–‡ä»¶å†…å®¹ï¼ŒæŒ‰ "),(0,a.Wm)("code",null,"Add SSH Key"),(0,a.Uk)(" æŒ‰é’®å®Œæˆæ“ä½œã€‚")])],-1),f=(0,a.uE)('<h3 id="éªŒè¯æ˜¯å¦æˆåŠŸæˆæƒ" tabindex="-1"><a class="header-anchor" href="#éªŒè¯æ˜¯å¦æˆåŠŸæˆæƒ" aria-hidden="true">#</a> éªŒè¯æ˜¯å¦æˆåŠŸæˆæƒ</h3><p>åœ¨ä½¿ç”¨ <code>git</code> å‘½ä»¤ä¸æœåŠ¡ç«¯è¿›è¡Œäº¤äº’ä¹‹å‰ï¼Œå¯ä»¥å…ˆéªŒè¯ä¸‹å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨æ˜¯å¦æ¡æ‰‹æˆåŠŸã€‚ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤éªŒè¯ SSH å…¬é’¥æ˜¯å¦æ­£å¸¸ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">ssh</span> -T git@github.com\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>å¦‚æœæ­£å¸¸çš„æƒ…å†µä¼šæç¤º <code> Hi curder-blog! You&#39;ve successfully authenticated, but GitHub does not provide shell access.</code></p><p>ä½†æ˜¯åœ¨æ–°è£…çš„æœºå™¨ä¸Šå‘ç”Ÿäº†ä¸€äº›é—®é¢˜ï¼ŒæŠ¥é”™ä¿¡æ¯æ˜¯ <code>Permission denied (publickey).</code>å¾ˆæ˜æ˜¾æ˜¯å¤±è´¥äº†ã€‚</p><p>ä¿®æ”¹SSHé…ç½®æ–‡ä»¶ï¼Œ<code>vim ~/.ssh/config</code>ï¼ˆå¦‚æœæ²¡æœ‰æ­¤æ–‡ä»¶ï¼Œå¯ä»¥æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥<code>touch ~/.ssh/config</code>ç”Ÿæˆæ­¤æ–‡ä»¶ï¼‰ï¼Œé…ç½®åŸŸåå¹¶æŒ‡å®šè®¤è¯æ–‡ä»¶ã€‚</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Host github.com\n    HostName github.com\n    User git\n    IdentityFile ~/.ssh/your_email_rsa\n    Port 22\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>å¦‚æœ git ä»“åº“æœºå™¨çš„sshç«¯å£ä¸æ˜¯é»˜è®¤çš„<code>22</code>ï¼Œéœ€è¦é…ç½®SSHé…ç½®<code>~/.ssh/config</code>çš„<strong>Port</strong>çš„å€¼ä¸ºå½“å‰ç¯å¢ƒçš„å€¼ã€‚</p></blockquote><p>å½“æˆ‘ä»¬ä½¿ç”¨sshè¿æ¥çš„æ—¶å€™ï¼Œä½¿ç”¨çš„è®¤è¯æ–‡ä»¶æ˜¯æˆ‘ä»¬åˆšåˆšå®šä¹‰çš„ï¼Œç‰¹åˆ«æ³¨æ„è¿™é‡Œçš„<code>Host</code>ã€<code>HostName</code>ã€<code>Port</code>å’Œ<code>IdentityFile</code>ï¼Œä¸è¦å†™é”™ã€‚</p><p>å†æ¬¡æ‰§è¡Œ<code>ssh -T git@github.com</code>çš„æ—¶å€™ï¼ŒæŠ¥é”™<code>Bad owner or permissions on ~/.ssh/config</code>ã€‚</p><p>ä»é”™è¯¯æç¤ºä¸éš¾çœ‹å‡ºæ˜¯æƒé™å‡ºäº†é—®é¢˜ï¼Œé€šè¿‡å‘½ä»¤æˆæƒ<code>chown $USER ~/.ssh/config &amp;&amp; chmod 644 ~/.ssh/config</code>ã€‚</p><p>å†æ¬¡æ‰§è¡Œ<code>ssh -T git@github.com</code>åˆ™è¿”å›æ­£å¸¸çš„æ¬¢è¿ä¿¡æ¯ã€‚</p><p>è‡³æ­¤ï¼ŒGITæœåŠ¡å™¨ä¸Šä½¿ç”¨SSHåè®®æˆæƒå…å¯†é’¥ç™»å½•å·²ç»å®Œæˆï¼Œå¯ä»¥æ¬¢å¿«çš„ <code>pull &amp;&amp; push</code>å•¦ğŸ˜ğŸ˜</p><p>ä¸Šé¢è¯´åˆ°çš„æƒ…å†µæ˜¯ä¸€ä¸ªGitHubå¯¹åº”ä¸€ä¸ªå…¬é’¥ã€ç§é’¥ã€‚é‚£ä¹ˆå½“æˆ‘ä»¬éœ€è¦åœ¨å…¶ä»–è®¾å¤‡ä¸Šä¹Ÿèƒ½å…å¯†ç ç™»å½•æˆæƒå‘¢ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯åœ¨å…¶ä»–è®¾å¤‡ä¸Šä½¿ç”¨ä¸Šé¢çš„æ–¹å¼é‡æ–°èµ°ä¸€éæµç¨‹åº”è¯¥ä¹Ÿèƒ½æˆåŠŸã€‚</p><p>ä½†æ˜¯å®é™…çš„æƒ…å†µå¾€å¾€æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œè¿™é‡Œä¾ç„¶ä»¥ GitHub ä¸ºä¾‹ã€‚</p><ol><li>æ‹¥æœ‰å¤šä¸ª GitHub è´¦æˆ·</li><li>å·²ç»é…ç½®äº†è´¦æˆ·å…¬é’¥ï¼Œè¿˜éœ€è¦ç»™éè‡ªå·±è´¦æˆ·ä¸‹çš„é¡¹ç›®é…ç½®éƒ¨ç½²å…¬é’¥</li></ol><p>æ­¤æ—¶ï¼Œåˆåº”è¯¥æ€ä¹ˆæ“ä½œå‘¢ï¼Ÿ</p><h2 id="åœ¨åŒä¸€è®¾å¤‡ä¸Šé…ç½®å¤šä¸ªå…¬é’¥" tabindex="-1"><a class="header-anchor" href="#åœ¨åŒä¸€è®¾å¤‡ä¸Šé…ç½®å¤šä¸ªå…¬é’¥" aria-hidden="true">#</a> åœ¨åŒä¸€è®¾å¤‡ä¸Šé…ç½®å¤šä¸ªå…¬é’¥</h2><blockquote><p>ä¸€ä¸ªå…¬é’¥åªèƒ½é…ç½®ä¸€ä¸ªè´¦æˆ·ï¼Œä¸€ä¸ªè´¦æˆ·å¯ä»¥å…³è”å¤šä¸ªå…¬é’¥ã€‚æ¯”å¦‚å½“æ‹¥æœ‰å¤šä¸ªè®¾å¤‡ï¼Œæ¯ä¸ªè®¾å¤‡ä¸Šå¯ä»¥ç”Ÿæˆä¸€ä¸ªå…¬é’¥å’Œå¯¹åº”çš„è´¦æˆ·ç›¸å…³è”ï¼Œå…³è”åæ­¤å…¬é’¥ä¾¿ä¸èƒ½ä¸å…¶å®ƒçš„è´¦æˆ·æˆ–é¡¹ç›®è¿›è¡Œå…³è”ã€‚å¦‚æœéœ€è¦æ›´æ¢å…³è”è´¦æˆ·ï¼Œè¯·å…ˆåœ¨å…¬é’¥è®¾ç½®é‡Œè§£ç»‘å…¬é’¥ã€‚</p></blockquote><h3 id="ç”Ÿæˆç¬¬äºŒä¸ªå…¬é’¥" tabindex="-1"><a class="header-anchor" href="#ç”Ÿæˆç¬¬äºŒä¸ªå…¬é’¥" aria-hidden="true">#</a> ç”Ÿæˆç¬¬äºŒä¸ªå…¬é’¥</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>ssh-keygen -t rsa -C <span class="token string">&quot;your_secondemail@email.com&quot;</span> -f ~/.ssh/second_rsa\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><blockquote><p>æ³¨æ„å°†æ­¤å¤„çš„ã€youre_secondemail@example.comã€ æ¢æˆæ‚¨çš„ä¸ªäººé‚®ç®±ï¼Œè¿™é‡Œçš„æ–‡ä»¶åä»¥<code>second_rsa</code>ä¸ºä¾‹ã€‚</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Host github.com\n    HostName github.com\n    User git\n    IdentityFile ~/.ssh/YOUR_NAME\n    Port 22\n\nHost second\n    HostName github.com\n    User git\n    IdentityFile ~/.ssh/second_rsa  // ç”Ÿæˆçš„ç¬¬äºŒä¸ªå…¬é’¥\n    Prot 22\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><blockquote><p>å¦‚æœ git ä»“åº“æœºå™¨çš„sshç«¯å£ä¸æ˜¯é»˜è®¤çš„<code>22</code>ï¼Œéœ€è¦é…ç½®SSHé…ç½®<code>~/.ssh/config</code>çš„<strong>Port</strong>çš„å€¼ä¸ºå½“å‰ç¯å¢ƒçš„å€¼ã€‚</p></blockquote><h3 id="å…‹éš†ä»£ç éœ€è¦æ³¨æ„çš„åœ°æ–¹" tabindex="-1"><a class="header-anchor" href="#å…‹éš†ä»£ç éœ€è¦æ³¨æ„çš„åœ°æ–¹" aria-hidden="true">#</a> å…‹éš†ä»£ç éœ€è¦æ³¨æ„çš„åœ°æ–¹</h3><p>å½“å…‹éš† GitHub ä¸Šçš„æŸä¸ªä»“åº“æ—¶ï¼Œä¹‹å‰çš„ Clone åœ°å€æ˜¯ï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">git</span> clone git@github.com:curder/test.git\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>ç°åœ¨éœ€è¦å°† Clone åœ°å€ä¿®æ”¹ä¸ºï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">git</span> clone second:curder/test.git\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><blockquote><p>å‘½ä»¤è¡Œä¸­çš„<code>second</code>æ˜¯åœ¨sshé…ç½®æ–‡ä»¶ä¸­<code>~/.ssh/config</code>ä¸­é…ç½®çš„Hostçš„å€¼ã€‚</p></blockquote><h2 id="å‚è€ƒåœ°å€" tabindex="-1"><a class="header-anchor" href="#å‚è€ƒåœ°å€" aria-hidden="true">#</a> å‚è€ƒåœ°å€</h2>',32),S={href:"https://coding.net/help/doc/git/ssh-key.html",target:"_blank",rel:"noopener noreferrer"},H=(0,a.Uk)("SSH å…¬é’¥è®¾ç½®"),x={href:"https://deepzz.com/post/how-to-setup-ssh-config.html",target:"_blank",rel:"noopener noreferrer"},y=(0,a.Uk)("SSH Config é‚£äº›ä½ æ‰€çŸ¥é“å’Œä¸çŸ¥é“çš„äº‹"),W={href:"http://www.cnblogs.com/hustskyking/p/problems-in-git-when-ssh.html",target:"_blank",rel:"noopener noreferrer"},_=(0,a.Uk)("git/sshæ‹ä¸æ¸…çš„å‡ ä¸ªé—®é¢˜"),U={render:function(e,s){const n=(0,a.up)("OutboundLink");return(0,a.wg)(),(0,a.j4)(a.HY,null,[l,(0,a.Wm)("p",null,[r,(0,a.Wm)("a",o,[i,(0,a.Wm)(n)]),t,(0,a.Wm)("a",c,[d,(0,a.Wm)(n)]),h,(0,a.Wm)("a",u,[p,(0,a.Wm)(n)]),b,(0,a.Wm)("a",g,[m,(0,a.Wm)(n)]),k]),v,(0,a.Wm)("img",{src:e.$withBase("/images/tools/git/ssh-server-to-use-keyless-login-on-git-server/github-save-ssh-key.png"),alt:"å°†å…¬é’¥å†…å®¹å¤åˆ¶åˆ°ä»£ç æ‰˜ç®¡å¹³å°"},null,8,["src"]),f,(0,a.Wm)("ul",null,[(0,a.Wm)("li",null,[(0,a.Wm)("a",S,[H,(0,a.Wm)(n)])]),(0,a.Wm)("li",null,[(0,a.Wm)("a",x,[y,(0,a.Wm)(n)])]),(0,a.Wm)("li",null,[(0,a.Wm)("a",W,[_,(0,a.Wm)(n)])])])],64)}}}}]);