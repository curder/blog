(self.webpackChunkblog=self.webpackChunkblog||[]).push([[2905],{2517:(n,s,a)=>{"use strict";a.r(s),a.d(s,{data:()=>e});const e={key:"v-1d42b6cd",path:"/languages/javascript/webpack2/configuring-eslint-to-implement-code-specification-autotest.html",title:"配置ESLint实现代码规范自动测试",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"package.json中的配置",slug:"package-json中的配置",children:[{level:3,title:"本地安装",slug:"本地安装",children:[]},{level:3,title:"配置",slug:"配置",children:[]},{level:3,title:"运行",slug:"运行",children:[]}]},{level:2,title:"ESLint在webpack中的应用",slug:"eslint在webpack中的应用",children:[{level:3,title:"安装eslint-loader",slug:"安装eslint-loader",children:[]},{level:3,title:"配置",slug:"配置-1",children:[]}]}],filePathRelative:"languages/javascript/webpack2/configuring-eslint-to-implement-code-specification-autotest.md",git:{updatedTime:1639727585e3,contributors:[]}}},4207:(n,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>i});var e=a(6252);const p=(0,e.Wm)("h1",{id:"配置eslint实现代码规范自动测试",tabindex:"-1"},[(0,e.Wm)("a",{class:"header-anchor",href:"#配置eslint实现代码规范自动测试","aria-hidden":"true"},"#"),(0,e.Uk)(" 配置ESLint实现代码规范自动测试")],-1),t=(0,e.Uk)("ESLint是一个前端JS代码的规范集，具体"),o={href:"https://eslint.org/docs/rules/",target:"_blank",rel:"noopener noreferrer"},l=(0,e.Uk)("参考这里"),c=(0,e.Uk)("。"),r=(0,e.uE)('<h2 id="package-json中的配置" tabindex="-1"><a class="header-anchor" href="#package-json中的配置" aria-hidden="true">#</a> package.json中的配置</h2><p>在前端项目，不仅仅是webpack项目中，可以通过下面的方式引入ESLint。</p><h3 id="本地安装" tabindex="-1"><a class="header-anchor" href="#本地安装" aria-hidden="true">#</a> 本地安装</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i eslint --save-dev\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="配置" tabindex="-1"><a class="header-anchor" href="#配置" aria-hidden="true">#</a> 配置</h3><ul><li>修改项目的<code>package.json</code>文件内容</li></ul><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>\n  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token property">&quot;lintjs&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eslint app/ webpack.*.js --cache&quot;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>添加<code>.eslintrc.js</code>配置文件</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>\n    env<span class="token operator">:</span> <span class="token punctuation">{</span>\n        browser<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n        commonjs<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n        es6<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n        node<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token string">&#39;eslint:recommended&#39;</span><span class="token punctuation">,</span>\n    parserOptions<span class="token operator">:</span> <span class="token punctuation">{</span>\n        sourceType<span class="token operator">:</span> <span class="token string">&#39;module&#39;</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    rules<span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token string">&#39;comma-dangle&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;always-multiline&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n        indent<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n        <span class="token string">&#39;linebreak-style&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;unix&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n        quotes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;single&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n        semi<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;always&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n        <span class="token string">&#39;no-unused-vars&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;warn&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n        <span class="token string">&#39;no-console&#39;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\nmodule<span class="token punctuation">.</span>exports <span class="token operator">=</span> config<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><blockquote><p>上述文件内容放在项目根目录下的<code>.eslintrc.js</code>中。</p></blockquote><h3 id="运行" tabindex="-1"><a class="header-anchor" href="#运行" aria-hidden="true">#</a> 运行</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> run lintjs\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><blockquote><p>自动修正代码的规范错误可以使用<code>npm run lintjs -- --fix</code>，但是ESLint的版本<code>&gt;= 1.4.0</code>。</p></blockquote><h2 id="eslint在webpack中的应用" tabindex="-1"><a class="header-anchor" href="#eslint在webpack中的应用" aria-hidden="true">#</a> ESLint在webpack中的应用</h2><h3 id="安装eslint-loader" tabindex="-1"><a class="header-anchor" href="#安装eslint-loader" aria-hidden="true">#</a> 安装<code>eslint-loader</code></h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i eslint-loader --save-dev\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="配置-1" tabindex="-1"><a class="header-anchor" href="#配置-1" aria-hidden="true">#</a> 配置</h3><p>配置<code>webpack.config.js</code>文件内容。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>\n    devServer<span class="token operator">:</span> <span class="token punctuation">{</span>\n        host<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">HOST</span><span class="token punctuation">,</span> <span class="token comment">// Defaults to `localhost`</span>\n        port<span class="token operator">:</span> <span class="token number">9000</span><span class="token punctuation">,</span> <span class="token comment">// Defaults to 8080</span>\n        overlay<span class="token operator">:</span> <span class="token punctuation">{</span>\n            errors<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n            warnings<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token comment">// ...</span>\n    module<span class="token operator">:</span> <span class="token punctuation">{</span>\n        rules<span class="token operator">:</span> <span class="token punctuation">[</span>\n            <span class="token punctuation">{</span>\n                test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>\n                enforce<span class="token operator">:</span> <span class="token string">&#39;pre&#39;</span><span class="token punctuation">,</span>\n\n                loader<span class="token operator">:</span> <span class="token string">&#39;eslint-loader&#39;</span><span class="token punctuation">,</span>\n                options<span class="token operator">:</span> <span class="token punctuation">{</span>\n                    emitWarning<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n                <span class="token punctuation">}</span><span class="token punctuation">,</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n        <span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>配置<code>modules</code>选项和<code>devServer</code>下的<code>overlay</code>选项（在浏览器中限制错误和警告信息）。</p>',20),i={render:function(n,s){const a=(0,e.up)("OutboundLink");return(0,e.wg)(),(0,e.j4)(e.HY,null,[p,(0,e.Wm)("p",null,[t,(0,e.Wm)("a",o,[l,(0,e.Wm)(a)]),c]),r,(0,e.Wm)("img",{src:n.$withBase("/images/languages/javascript/webpack2/configuring-eslint-to-implement-code-specification-autotest/configuring-eslint-to-implement-code-specification-autotest-use-eslint-loader-overlay-error-and-warning.png"),alt:""},null,8,["src"])],64)}}}}]);