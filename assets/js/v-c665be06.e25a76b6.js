(self.webpackChunkblog=self.webpackChunkblog||[]).push([[7468],{7303:(e,s,n)=>{"use strict";n.r(s),n.d(s,{data:()=>a});const a={key:"v-c665be06",path:"/os/centos/prevent-remote-linux-hosts-from-automatically-desconnecting-ssh-connections.html",title:"防止远程Linux主机自动断开SSH连接",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"防止远程Linux自动断开SSH连接",slug:"防止远程linux自动断开ssh连接",children:[]},{level:2,title:"编辑SSH配置文件",slug:"编辑ssh配置文件",children:[{level:3,title:"针对全部用户",slug:"针对全部用户",children:[]},{level:3,title:"针对当前操作用户生效",slug:"针对当前操作用户生效",children:[]}]},{level:2,title:"在ssh命令的时候添加参数",slug:"在ssh命令的时候添加参数",children:[]},{level:2,title:"参考链接",slug:"参考链接",children:[]}],filePathRelative:"os/centos/prevent-remote-linux-hosts-from-automatically-desconnecting-ssh-connections.md",git:{updatedTime:1628048005e3,contributors:[]}}},9162:(e,s,n)=>{"use strict";n.r(s),n.d(s,{default:()=>i});var a=n(6252);const l=(0,a.uE)('<h1 id="防止远程linux主机自动断开ssh连接" tabindex="-1"><a class="header-anchor" href="#防止远程linux主机自动断开ssh连接" aria-hidden="true">#</a> 防止远程Linux主机自动断开SSH连接</h1><p>在使用ssh连接远程Linux主机时，如果长时间不操作，ssh会自动断开，只能重新登陆。</p><p>原因是：由于SSH的安全机制，如果<strong>10分钟</strong>没有任何操作，本次SSH会话会自动关闭。</p><h2 id="防止远程linux自动断开ssh连接" tabindex="-1"><a class="header-anchor" href="#防止远程linux自动断开ssh连接" aria-hidden="true">#</a> 防止远程Linux自动断开SSH连接</h2><blockquote><p>注意：修改针对的是本地SSH客户端上，不是远程主机。</p></blockquote><h2 id="编辑ssh配置文件" tabindex="-1"><a class="header-anchor" href="#编辑ssh配置文件" aria-hidden="true">#</a> 编辑SSH配置文件</h2><h3 id="针对全部用户" tabindex="-1"><a class="header-anchor" href="#针对全部用户" aria-hidden="true">#</a> 针对全部用户</h3><p>针对全部用户的配置文件在<code>/etc/ssh/ssh_config</code>里面添加</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Host *\nServerAliveInterval 60\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="针对当前操作用户生效" tabindex="-1"><a class="header-anchor" href="#针对当前操作用户生效" aria-hidden="true">#</a> 针对当前操作用户生效</h3><p>编辑文件<code>~/.ssh/config</code>，写入如下内容。</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Host *\nServerAliveInterval 60\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>ServerAliveInterval 60</code>表示SSH客户端每隔<strong>60秒</strong>给远程主机发送一个<code>no-op</code>包，<code>no-op</code>是无任何操作的意思，这样远程主机就不会关闭这个SSH会话。</p><h2 id="在ssh命令的时候添加参数" tabindex="-1"><a class="header-anchor" href="#在ssh命令的时候添加参数" aria-hidden="true">#</a> 在ssh命令的时候添加参数</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">ssh</span> -o <span class="token assign-left variable">ServerAliveInterval</span><span class="token operator">=</span><span class="token number">60</span> user@remote-ssh-server-ip\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><blockquote><p>上面的命令通过添加<code>-o</code>参数达到远程Linux主机自动断开SSH连接的作用。</p></blockquote><p>两种修改方式，针对不同的适用场景，不同的影响粒度。如果是个人电脑建议全局修改。</p><h2 id="参考链接" tabindex="-1"><a class="header-anchor" href="#参考链接" aria-hidden="true">#</a> 参考链接</h2>',18),r={href:"http://blog.topspeedsnail.com/archives/10560",target:"_blank",rel:"noopener noreferrer"},t=(0,a.Uk)("防止远程Linux主机自动断开SSH连接"),i={render:function(e,s){const n=(0,a.up)("OutboundLink");return(0,a.wg)(),(0,a.j4)(a.HY,null,[l,(0,a.Wm)("ul",null,[(0,a.Wm)("li",null,[(0,a.Wm)("a",r,[t,(0,a.Wm)(n)])])])],64)}}}}]);