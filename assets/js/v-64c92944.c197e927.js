(self.webpackChunkblog=self.webpackChunkblog||[]).push([[4769],{9199:(a,s,n)=>{"use strict";n.r(s),n.d(s,{data:()=>e});const e={key:"v-64c92944",path:"/os/mac-os/fast-creation-of-large-files-under-mac-osx.html",title:"Mac OSX系统下快速创建大文件",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"使用终端命令行创建大容量文件",slug:"使用终端命令行创建大容量文件",children:[{level:3,title:"使用mkfile命令",slug:"使用mkfile命令",children:[]},{level:3,title:"使用dd命令",slug:"使用dd命令",children:[]},{level:3,title:"使用磁盘工具穿件大容量空白文件",slug:"使用磁盘工具穿件大容量空白文件",children:[]}]},{level:2,title:"参考地址",slug:"参考地址",children:[]}],filePathRelative:"os/mac-os/fast-creation-of-large-files-under-mac-osx.md",git:{updatedTime:1625566324e3,contributors:[]}}},450:(a,s,n)=>{"use strict";n.r(s),n.d(s,{default:()=>x});var e=n(6252);const t=(0,e.uE)('<h1 id="mac-osx系统下快速创建大文件" tabindex="-1"><a class="header-anchor" href="#mac-osx系统下快速创建大文件" aria-hidden="true">#</a> Mac OSX系统下快速创建大文件</h1><p>常常有这样的开发场景，比如在测试上传功能的时候需要一个比较大的文件，如果在MacOSX系统中创建大容量空白文件非常简单，第一种就是使用终端命令行，第二种是使用磁盘工具应用。</p><h2 id="使用终端命令行创建大容量文件" tabindex="-1"><a class="header-anchor" href="#使用终端命令行创建大容量文件" aria-hidden="true">#</a> 使用终端命令行创建大容量文件</h2><h3 id="使用mkfile命令" tabindex="-1"><a class="header-anchor" href="#使用mkfile命令" aria-hidden="true">#</a> 使用mkfile命令</h3><p>快速生成大容量空白文件最简单的命令就是<code>mkfile</code>，无论是大文件还是小文件，<code>mkfile</code>都支持。</p><p><code>mkfile</code>命令的格式如下</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>mkfile <span class="token punctuation">[</span>-nv<span class="token punctuation">]</span> size<span class="token punctuation">[</span>b<span class="token operator">|</span>k<span class="token operator">|</span>m<span class="token operator">|</span>g<span class="token punctuation">]</span> filename <span class="token punctuation">..</span>.\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>如果想在桌面上创建文件名为<code>big_file.data</code>的<strong>1GB</strong>容量文件时，只需使用下面的命令</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>mkfile -n 1g ~/Desktop/big_file.data\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="使用dd命令" tabindex="-1"><a class="header-anchor" href="#使用dd命令" aria-hidden="true">#</a> 使用dd命令</h3><p>由于<code>mkfile</code>只支持Mac OSX系统，如果想要在其他平台上创建大容量空白文件，<code>dd</code>命令可能更合适一些，<code>dd</code>命令支持所有的<code>unix</code>系统。</p><p>使用<code>dd</code>命令，需要定义文件名、区块尺寸和区块大小</p><h4 id="参数" tabindex="-1"><a class="header-anchor" href="#参数" aria-hidden="true">#</a> 参数</h4><div class="language-ini ext-ini line-numbers-mode"><pre class="language-ini"><code><span class="token key attr-name">bs</span> <span class="token punctuation">=</span> <span class="token value attr-value">&lt;字节数&gt;：将ibs（输入）与欧巴桑（输出）设成指定的字节数；</span>\n<span class="token key attr-name">cbs</span> <span class="token punctuation">=</span> <span class="token value attr-value">&lt;字节数&gt;：转换时，每次只转换指定的字节数；</span>\n<span class="token key attr-name">conv</span> <span class="token punctuation">=</span> <span class="token value attr-value">&lt;关键字&gt;：指定文件转换的方式；</span>\n<span class="token key attr-name">count</span> <span class="token punctuation">=</span> <span class="token value attr-value">&lt;区块数&gt;：仅读取指定的区块数；</span>\n<span class="token key attr-name">ibs</span> <span class="token punctuation">=</span> <span class="token value attr-value">&lt;字节数&gt;：每次读取的字节数；</span>\n<span class="token key attr-name">obs</span> <span class="token punctuation">=</span> <span class="token value attr-value">&lt;字节数&gt;：每次输出的字节数；</span>\n<span class="token key attr-name">of</span> <span class="token punctuation">=</span> <span class="token value attr-value">&lt;文件&gt;：输出到文件；</span>\n<span class="token key attr-name">seek</span> <span class="token punctuation">=</span> <span class="token value attr-value">&lt;区块数&gt;：一开始输出时，跳过指定的区块数；</span>\n<span class="token key attr-name">skip</span> <span class="token punctuation">=</span> <span class="token value attr-value">&lt;区块数&gt;：一开始读取时，跳过指定的区块数；</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="示例" tabindex="-1"><a class="header-anchor" href="#示例" aria-hidden="true">#</a> 示例</h4><ul><li>创建一个1M大小的文件</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>/dev/zero <span class="token assign-left variable">of</span><span class="token operator">=</span>file.txt <span class="token assign-left variable">bs</span><span class="token operator">=</span><span class="token number">1024</span> <span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token number">1</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ul><li>创建一个100M大小的文件</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>/dev/zero <span class="token assign-left variable">of</span><span class="token operator">=</span>file.txt <span class="token assign-left variable">bs</span><span class="token operator">=</span><span class="token number">1024</span> <span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">seek</span><span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token number">1024</span> * <span class="token number">100</span><span class="token punctuation">]</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ul><li>创建一个1G大小的文件</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>/dev/zero <span class="token assign-left variable">of</span><span class="token operator">=</span>file.txt <span class="token assign-left variable">bs</span><span class="token operator">=</span><span class="token number">1024</span> <span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">seek</span><span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token number">1024</span> * <span class="token number">1024</span><span class="token punctuation">]</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>其中参数解释：</p><ul><li><code>/dev/zero</code> 是一个字符设备，会不断返回0值字节（\\0）。</li><li><code>if</code> 代表输入文件。如果不指定if，默认就会从stdin中读取输入。</li><li><code>of</code> 代表输出文件。如果不指定of，默认就会将stdout作为默认输出。</li><li><code>bs</code> 代表字节为单位的块大小。</li><li><code>count</code> 代表被复制的块数。</li></ul><table><thead><tr><th>单元大小</th><th>代码</th></tr></thead><tbody><tr><td>字节（1B）</td><td>c</td></tr><tr><td>字节（2B）</td><td>w</td></tr><tr><td>块（512B）</td><td>b</td></tr><tr><td>千字节（1024B）</td><td>k</td></tr><tr><td>兆字节（1024KB）</td><td>M</td></tr><tr><td>吉字节（1024MB）</td><td>G</td></tr></tbody></table><h3 id="使用磁盘工具穿件大容量空白文件" tabindex="-1"><a class="header-anchor" href="#使用磁盘工具穿件大容量空白文件" aria-hidden="true">#</a> 使用磁盘工具穿件大容量空白文件</h3>',25),l={start:"0"},p=(0,e.Uk)("点击"),o=(0,e.Wm)("code",null,"Dock",-1),c=(0,e.Uk)("中的"),r=(0,e.Wm)("code",null,"Launchpad",-1),i=(0,e.Uk)("。搜索并点击打开磁盘工具 "),d=(0,e.Uk)("点击左上角的“文件”下拉菜单，选择新建，然后选择“空白磁盘映像”。 "),u=(0,e.Wm)("blockquote",null,[(0,e.Wm)("p",null,[(0,e.Uk)("或者在磁盘工具面板按快捷键"),(0,e.Wm)("code",null,"command + N"),(0,e.Uk)('，新建"空白磁盘映像"')])],-1),k={start:"2"},m=(0,e.Uk)("选中好要保存的文件名和文件路径，然后在“大小”下拉菜单中选择自己需要的尺寸，最后点击创建即可。 "),b=(0,e.Wm)("h2",{id:"参考地址",tabindex:"-1"},[(0,e.Wm)("a",{class:"header-anchor",href:"#参考地址","aria-hidden":"true"},"#"),(0,e.Uk)(" 参考地址")],-1),h={href:"https://www.macx.cn/thread-2093355-1-1.html",target:"_blank",rel:"noopener noreferrer"},g=(0,e.Uk)("小技巧：通过终端或者磁盘工具创建大容量空白文件"),f={href:"http://man.linuxde.net/dd",target:"_blank",rel:"noopener noreferrer"},v=(0,e.Uk)("dd命令"),x={render:function(a,s){const n=(0,e.up)("OutboundLink");return(0,e.wg)(),(0,e.j4)(e.HY,null,[t,(0,e.Wm)("ol",l,[(0,e.Wm)("li",null,[(0,e.Wm)("p",null,[p,o,c,r,i,(0,e.Wm)("img",{src:a.$withBase("/images/os/macos/fast-creation-of-large-files-under-mac-osx/diskimage-utility.jpg"),alt:""},null,8,["src"])])]),(0,e.Wm)("li",null,[(0,e.Wm)("p",null,[d,(0,e.Wm)("img",{src:a.$withBase("/images/os/macos/fast-creation-of-large-files-under-mac-osx/diskimage-new.png"),alt:""},null,8,["src"])])])]),u,(0,e.Wm)("ol",k,[(0,e.Wm)("li",null,[m,(0,e.Wm)("img",{src:a.$withBase("/images/os/macos/fast-creation-of-large-files-under-mac-osx/diskimage-details.png"),alt:""},null,8,["src"])])]),b,(0,e.Wm)("ul",null,[(0,e.Wm)("li",null,[(0,e.Wm)("p",null,[(0,e.Wm)("a",h,[g,(0,e.Wm)(n)])])]),(0,e.Wm)("li",null,[(0,e.Wm)("p",null,[(0,e.Wm)("a",f,[v,(0,e.Wm)(n)])])])])],64)}}}}]);