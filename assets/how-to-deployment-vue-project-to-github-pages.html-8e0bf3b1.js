import{_ as p,M as o,p as l,q as c,R as n,t as a,N as t,a1 as i}from"./framework-fb0bc66b.js";const u={},r=i(`<h1 id="如何将vue项目发布到github的pages" tabindex="-1"><a class="header-anchor" href="#如何将vue项目发布到github的pages" aria-hidden="true">#</a> 如何将vue项目发布到github的pages</h1><p>将开发好的vue前端项目部署到github的pages服务上，不仅方便而且节省了购买服务器的开支。</p><h2 id="version" tabindex="-1"><a class="header-anchor" href="#version" aria-hidden="true">#</a> Version</h2><ul><li>Vue 2.5.22</li><li>Vue CLI 3.1.3</li></ul><h2 id="初始化vue项目" tabindex="-1"><a class="header-anchor" href="#初始化vue项目" aria-hidden="true">#</a> 初始化Vue项目</h2><ul><li><p>执行 <code>vue create vue-github-src</code> 命令。</p></li><li><p>选择 <code>Manually select features</code>，后回车。</p></li><li><p>使用空格反选掉<code>Linter / Formatter</code>，保持只选择 <code>Babel</code>后按回车。</p></li><li><p>选择 <code>In package.json</code>，后回车。</p></li><li><p>输入 <code>N</code>，后回车。</p></li></ul><p>得到 <code>vue-github-src</code> 项目目录，进入到目录中。</p><h2 id="开发" tabindex="-1"><a class="header-anchor" href="#开发" aria-hidden="true">#</a> 开发</h2><p>安装axios发送ajax请求，<code>yarn add axios -S</code></p><ul><li>Index.vue</li></ul><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post in posts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        {{ post.id }}: {{ post.title }}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&#39;axios&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token string">&#39;https://jsonplaceholder.typicode.com/posts&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;Index&#39;</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">posts</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>posts <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- Add &quot;scoped&quot; attribute to limit CSS to this component only --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>一個最简单的 Vue，从 API Server 获取数据展示。</p><h2 id="建立仓库" tabindex="-1"><a class="header-anchor" href="#建立仓库" aria-hidden="true">#</a> 建立仓库</h2><ul><li>建立<code>vue-github-src</code>仓库存储源代码。</li></ul>`,14),d=["src"],v=["src"],g=i(`<pre><code>- 输入 repository 名称：\`vue-github-src\`
- 按 Create repository 建立新的 repository
</code></pre><ul><li>按上面的步骤建立<code>vue-github</code>存放生成的静态文件。</li></ul><h2 id="vue-config-js" tabindex="-1"><a class="header-anchor" href="#vue-config-js" aria-hidden="true">#</a> vue.config.js</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">publicPath</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&#39;production&#39;</span>
        <span class="token operator">?</span> <span class="token string">&#39;/vue-github/&#39;</span>
        <span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在 project 根目录下建立 <code>vue.config.js</code> 设置 <code>publicPath</code>。</p><p>因为刚刚建立了 vue-github repository，将来目录如 <code>https://curder.github.io/vue-github</code>，因此设置 <code>publicPath</code> 为 <code>/vue-github</code>。</p><h2 id="提交变更" tabindex="-1"><a class="header-anchor" href="#提交变更" aria-hidden="true">#</a> 提交变更</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">git</span> remote <span class="token function">add</span> origin git@github.com:curder/vue-github-src.git

<span class="token function">git</span> push <span class="token parameter variable">-u</span> origin master
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="部署脚本" tabindex="-1"><a class="header-anchor" href="#部署脚本" aria-hidden="true">#</a> 部署脚本</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token shebang important">#!/usr/bin/env sh</span>

<span class="token comment"># abort on errors</span>
<span class="token builtin class-name">set</span> <span class="token parameter variable">-e</span>

<span class="token comment"># build</span>
<span class="token function">yarn</span> build

<span class="token comment"># navigate into the build output directory</span>
<span class="token builtin class-name">cd</span> dist

<span class="token function">git</span> init
<span class="token function">git</span> <span class="token function">add</span> <span class="token parameter variable">-A</span>
<span class="token function">git</span> commit <span class="token parameter variable">-m</span> <span class="token string">&#39;deploy&#39;</span>

<span class="token function">git</span> push <span class="token parameter variable">-f</span> git@github.com:curder/vue-github.git master

<span class="token builtin class-name">cd</span> -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>执行 <code>deploy.sh</code> build project 并推送到 GitHub。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sh</span> ./deploy.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,12),h=["src"],k=n("h2",{id:"设定-github-repository",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#设定-github-repository","aria-hidden":"true"},"#"),a(" 设定 GitHub Repository")],-1),b=n("p",null,"在 vue-github 仓库页面找到 Settings按钮，点击。",-1),m=["src"],y=n("p",null,"跳转到GitHub Pages配置，选择 master branch 按下 Save。",-1),f=["src"],_=n("p",null,"出现了可访问的网页地址，如果想支持HTTPS，勾选Enforce HTTPS。",-1),w=["src"],x=n("p",null,[a("顺利将 Vue project 部署到 GitHub Pages 服务，如果无法访问，自行添加"),n("code",null,"index.html"),a("。")],-1),j=["src"],B=n("h2",{id:"参考地址",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#参考地址","aria-hidden":"true"},"#"),a(" 参考地址")],-1),E={href:"https://oomusou.io/vue/deployment/github/",target:"_blank",rel:"noopener noreferrer"},A={href:"https://yimogit.github.io/2017/07/24/%E4%BD%BF%E7%94%A8travis-ci%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2github%E4%B8%8A%E7%9A%84%E9%A1%B9%E7%9B%AE/",target:"_blank",rel:"noopener noreferrer"};function V(s,P){const e=o("ExternalLinkIcon");return l(),c("div",null,[r,n("img",{src:s.$withBase("/images/languages/vue/how-to-deployment-vue-project-to-github-pages/github-create-new-repository.png"),alt:""},null,8,d),n("img",{src:s.$withBase("/images/languages/vue/how-to-deployment-vue-project-to-github-pages/github-create-new-repository-write-info.png"),alt:""},null,8,v),g,n("img",{src:s.$withBase("/images/languages/vue/how-to-deployment-vue-project-to-github-pages/run-deployer-bash-push-code-to-github.png"),alt:""},null,8,h),k,b,n("img",{src:s.$withBase("/images/languages/vue/how-to-deployment-vue-project-to-github-pages/github-repository-setting-01.png"),alt:""},null,8,m),y,n("img",{src:s.$withBase("/images/languages/vue/how-to-deployment-vue-project-to-github-pages/github-repository-setting-02.png"),alt:""},null,8,f),_,n("img",{src:s.$withBase("/images/languages/vue/how-to-deployment-vue-project-to-github-pages/github-repository-setting-03.png"),alt:""},null,8,w),x,n("img",{src:s.$withBase("/images/languages/vue/how-to-deployment-vue-project-to-github-pages/github-repository-setting-04.png"),alt:""},null,8,j),B,n("ul",null,[n("li",null,[n("p",null,[n("a",E,[a("如何將 Vue 發佈到 GitHub ?"),t(e)])])]),n("li",null,[n("p",null,[n("a",A,[a("使用travis-ci集成一个vue.js项目"),t(e)])])])])])}const N=p(u,[["render",V],["__file","how-to-deployment-vue-project-to-github-pages.html.vue"]]);export{N as default};
